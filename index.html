<!DOCTYPE html>
<html lang='ru'>

<head>

    <meta charset="utf-8">

    <title>Nikita Melekhin</title>

    <!-- Main includes -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700,900" rel="stylesheet">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel='stylesheet' href='/css/header.css'>
    <link rel='stylesheet' href='/css/main.css'>
</head>

<body>
    <div class='full_size d-none d-md-block'>
        <div class='landing_handler'>
            <div class='left'>
                <div class='email_handler'><a class='email' href="mailto:nimelehin@gmail.com">nimelehin@gmail.com</a></div>
                <div>
                    <div class='sbn_handler invisible'>
                        <div>Software</div>
                        <div>ENGINEER</div>
                    </div>
                    <div class='logo_handler'>
                        <div>Nikita</div>
                        <div>Melekhin</div>
                    </div>
                    <div class='sbn_handler'>
                        <div>Software</div>
                        <div>ENGINEER</div>
                    </div>
                </div>
                <div class='sn_handler'>
                    <a href="https://github.com/nimelehin" class="icon fab fa-github"></a>
                    <a href="http://linkedin.com/in/nikita-melekhin/" class="icon fab fa-linkedin-in"></a>
                </div>
            </div>
            <div class='right'>
                <div class='menu'>
                    <a href='/projects.html' class='menu_item' item='lesson'>Projects</a>
                    <a href='/blog.html' class='menu_item' item='blog'>BLOG</a>
                    <a href='/about.html' class='menu_item' item='about'>ABOUT ME</a>
                    <a href='/resume.html' class='menu_item' item='resume'>RESUME</a>
                </div>

                <!-- <div class = 'mini_info'>
                        <div class = 'mini_info_line'>
                            <div class = 'left_item'>Work Experience:</div>
                            <div class = 'right_item'></div>
                        </div>
                        <div class = 'mini_info_line'>
                            <div class = 'left_item'>Top Projects:</div>
                            <div class = 'right_item'><div>oneOS</div><div>oneCC</div></div>
                        </div>
                    </div> -->
            </div>
        </div>
    </div>
    <div class='full_size d-md-none'>
        <div class='landing_handler_mobile'>
            <div class='top'>
                <div>
                    <div class='logo_handler'>
                        <div>Nikita</div>
                        <div>Melekhin</div>
                    </div>
                    <div class='sbn_handler'>
                        <div>Software</div>
                        <div>ENGINEER</div>
                    </div>
                </div>
            </div>
            <div class='bottom'>
                <div class='container'>
                    <div class='menu'>
                        <a href='/projects.html' id='menu_item4' class='menu_item' item='lesson'>Projects</a>
                        <a href='/blog.html' id='menu_item3' class='menu_item' item='blog'>BLOG</a>
                        <a href='/about.html' id='menu_item2' class='menu_item' item='raiting'>ABOUT ME</a>
                        <a href='/resume.html' id='menu_item1' class='menu_item' item='raiting'>RESUME</a>
                    </div>
                    <div class='icon_handler'>
                        <a href="https://github.com/nimelehin" class="icon fab fa-github"></a>
                        <a href="http://linkedin.com/in/nikita-melekhin/" class="icon fab fa-linkedin-in"></a>
                        <a href="mailto:nimelehin@gmail.com" class="icon fas fa-envelope"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class='notification' id='notification'></div>
</body>

</html>

<script>
    jQuery(function($) {
        var current_page = 'main'

        var isOpened = false
        var username = "none"

        function setCookie(name, value, days) {
            var expires = "";
            if (days) {
                var date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + (value || "") + expires + "; path=/";
        }

        function getCookie(name) {
            var matches = document.cookie.match(new RegExp(
                "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
            ));
            return matches ? decodeURIComponent(matches[1]) : undefined;
        }

        alerts = [
            ["alert-init", "2021/8/11", "By continuing to browse or by clicking Accept, you agree to the storing cookies on your device.", [
                ["Accept", "g", function() {}]
            ]],
        ]

        function checkAlerts() {
            for (var item of alerts) {
                var cookieData = getCookie(item[0])
                if (cookieData === undefined || cookieData != item[1]) {
                    show_notification_buttons(item[2], item[3])
                    setCookie(item[0], item[1], 365);
                    return;
                }
            }
        }

        function header_init() {
            $("header").load("components/header.html");
            $(`.page-title[item='${current_page}']`).addClass('active')
            checkAlerts();
        }

        header_init();

        var init_top;
        var opened = false;
        var ready_to_run = true;

        function showMenuItem(obj) {
            return obj.animate({
                opacity: "100%"
            }, 20)
        }

        function hideMenuItem(obj) {
            return obj.animate({
                opacity: "0%"
            }, 10)
        }

        function menuShowLogo() {
            showMenuItem($("#menu_item1")).promise().done(function() {
                showMenuItem($("#menu_item2")).promise().done(function() {
                    showMenuItem($("#menu_item3")).promise().done(function() {
                        showMenuItem($("#menu_item4")).promise().done(function() {

                        })
                    })
                })
            })
            return $('#menu_log_box').animate({
                opacity: "100%"
            }, 150)
        }

        function menuHideLogo() {
            hideMenuItem($("#menu_item4")).promise().done(function() {
                hideMenuItem($("#menu_item3")).promise().done(function() {
                    hideMenuItem($("#menu_item2")).promise().done(function() {
                        hideMenuItem($("#menu_item1")).promise().done(function() {

                        })
                    })
                })
            })
            return $('#menu_log_box').animate({
                opacity: "0%"
            }, 150)
        }

        $(window).on('resize', function() {
            $('.hhh').height($(window).height())
            init_top = $(window).height() - 50
        });

        $('body').on('click', '.logo_box', function() {
            window.open("/index.html", "_self");
        });

        function showMenu() {
            $('.hhh').height($(window).height())
            ready_to_run = false
            opened = true
            init_top = $(".menu_hamburger").position().top;
            $('#show-menu-button').removeClass('rotate360').addClass('rotate180');
            $('.menu_hamburger').animate({
                top: "0%"
            }, 150)
            $('.menu_hamburger').promise().done(function() {
                menuShowLogo().promise().done(function() {
                    ready_to_run = true;
                })
            });
        }

        function hideMenu() {
            ready_to_run = false
            opened = false
            $('#show-menu-button').removeClass('rotate180').addClass('rotate360');
            menuHideLogo().promise().done(function() {
                $('.menu_hamburger').animate({
                    top: `${init_top}px`
                }, 120).promise().done(function() {
                    ready_to_run = true;
                })
            });
        }

        $('body').on('click', '#show-menu-button', function() {
            if (ready_to_run) {
                if (opened) {
                    hideMenu()
                } else {
                    showMenu()
                }
            }
        })

        $('body').on('click', '#hide-menu-button', function() {
            hideMenu()
        })

        $('#transperent-background').click(function() {
            hideMenu()
        })

        $('.theme-option').click(function() {
            var theme = 'black';
            if ($(this).hasClass('black')) {
                theme = 'black';
            }
            if ($(this).hasClass('white')) {
                theme = 'white';
            }
            if ($(this).hasClass('newyear')) {
                theme = 'newyear';
            }

            if ($(this).hasClass("active")) {

            } else {
                setTheme(theme)
            }

        })

        $('#logout').click(function() {
            setCookie('user_token', '', -123)
            window.open("/login/", "_self")
        })

        var notificationActive = 0

        function show_notification(text, time) {
            notificationActive += 1
            $('#notification').text(text)
            $('#notification').fadeIn(300)
            setTimeout(hide_notification, time * 1000)
        }

        function show_notification_buttons(text, buttons) {
            var buttonsCode = ""
            var now = 0

            for (var button of buttons) {
                var classCode = ''
                if (button[1] == 'g') {
                    classCode = 'button-gray'
                }
                buttonsCode += `<div class = 'apply-button ${classCode}' id = 'button-tap-${now}'">${button[0]}</div>`
                now += 1
            }

            buttonsCode = `<div class = 'button-handler'>${buttonsCode}</div>`
            $('#notification').html(text + buttonsCode)

            for (var i = 0; i < now; i++) {
                var myElement = document.getElementById(`button-tap-${i}`);
                myElement.addEventListener('click', buttons[i][2]);
            }

            $('#notification').fadeIn(300)
        }

        function hide_notification() {
            notificationActive -= 1
            if (notificationActive == 0) {
                $('#notification').fadeOut(300)
            }
        }

        $('#notification').click(function() {
            $('#notification').fadeOut(300)
            notificationActive = 0
        })

    })
</script>