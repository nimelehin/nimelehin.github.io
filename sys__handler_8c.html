<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>oneOS: src/kernel/interrupts/sys_handler.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">oneOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_cbd7f246bdf7dc0a50281a272327e6ed.html">kernel</a></li><li class="navelem"><a class="el" href="dir_28eb04e9df1311571808062ef119429a.html">interrupts</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sys_handler.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;<a class="el" href="shared__buffer_8h_source.html">io/shared_buffer/shared_buffer.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="local__socket_8h_source.html">io/sockets/local_socket.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="log_8h_source.html">log.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="kmalloc_8h_source.html">mem/kmalloc.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="sys__handler_8h_source.html">sys_handler.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="sched_8h_source.html">tasking/sched.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="tasking_8h_source.html">tasking/tasking.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="system_8h_source.html">platform/x86/system.h</a>&gt;</code><br />
</div>
<p><a href="sys__handler_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4bd21ff720e3c611cb94ceb4f2b2aa67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>&#160;&#160;&#160;(tf-&gt;ebx)</td></tr>
<tr class="separator:a4bd21ff720e3c611cb94ceb4f2b2aa67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17672119b748bbdf6357f43eb819bf04"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>&#160;&#160;&#160;(tf-&gt;ecx)</td></tr>
<tr class="separator:a17672119b748bbdf6357f43eb819bf04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d2d23ab53e9614c8bec65bdabc53c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a>&#160;&#160;&#160;(tf-&gt;edx)</td></tr>
<tr class="separator:a76d2d23ab53e9614c8bec65bdabc53c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1b8cae7d84b6f1b3fc1a49a7a7b144"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a1a1b8cae7d84b6f1b3fc1a49a7a7b144">param4</a>&#160;&#160;&#160;(tf-&gt;esi)</td></tr>
<tr class="separator:a1a1b8cae7d84b6f1b3fc1a49a7a7b144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d3beceafcc21f4edc6799b1bec52e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a10d3beceafcc21f4edc6799b1bec52e5">param5</a>&#160;&#160;&#160;(tf-&gt;edi)</td></tr>
<tr class="separator:a10d3beceafcc21f4edc6799b1bec52e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaae3d18c16b4873d38e76227fc8a20f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(val)</td></tr>
<tr class="separator:aaae3d18c16b4873d38e76227fc8a20f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a54bd344e721e020e7684e2b3a29b4cff"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a54bd344e721e020e7684e2b3a29b4cff">set_return</a> (trapframe_t *tf, <a class="el" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> val)</td></tr>
<tr class="separator:a54bd344e721e020e7684e2b3a29b4cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2247381457e37e87bf4ea85cb1bced4a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a2247381457e37e87bf4ea85cb1bced4a">ksyscall_impl</a> (int sys_id, int a, int b, int c, int d)</td></tr>
<tr class="separator:a2247381457e37e87bf4ea85cb1bced4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6fdbf0162c4f2cd8c9955a6b68d8f67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#ad6fdbf0162c4f2cd8c9955a6b68d8f67">sys_handler</a> (trapframe_t *tf)</td></tr>
<tr class="separator:ad6fdbf0162c4f2cd8c9955a6b68d8f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce0c1e2a3e14ef013f1e3a0e800e37c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a6ce0c1e2a3e14ef013f1e3a0e800e37c">sys_restart_syscall</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a6ce0c1e2a3e14ef013f1e3a0e800e37c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9423154a65c8dd332e656368e2e82c3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a9423154a65c8dd332e656368e2e82c3a">sys_open</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a9423154a65c8dd332e656368e2e82c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf9c4b66777d7e2998cc6ff32e84f1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#aadf9c4b66777d7e2998cc6ff32e84f1d">sys_close</a> (trapframe_t *tf)</td></tr>
<tr class="separator:aadf9c4b66777d7e2998cc6ff32e84f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06e5448ed4de3522685b41aa6801c30b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a06e5448ed4de3522685b41aa6801c30b">sys_read</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a06e5448ed4de3522685b41aa6801c30b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a183294beff3b2de3d246775c53860871"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a183294beff3b2de3d246775c53860871">sys_write</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a183294beff3b2de3d246775c53860871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee029fb17c1d6f79fbef17ccbb831fc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#aee029fb17c1d6f79fbef17ccbb831fc2">sys_lseek</a> (trapframe_t *tf)</td></tr>
<tr class="separator:aee029fb17c1d6f79fbef17ccbb831fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c0a1e5cf00a9765f7aaf782ac2ece4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a53c0a1e5cf00a9765f7aaf782ac2ece4">sys_unlink</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a53c0a1e5cf00a9765f7aaf782ac2ece4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dda3f211762b38598691eea8ffc1500"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a5dda3f211762b38598691eea8ffc1500">sys_creat</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a5dda3f211762b38598691eea8ffc1500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac31f21606ec5e58f1bdd6b5db901f574"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#ac31f21606ec5e58f1bdd6b5db901f574">sys_fstat</a> (trapframe_t *tf)</td></tr>
<tr class="separator:ac31f21606ec5e58f1bdd6b5db901f574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6bb5fcb3d04b78671984e73035196f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#ad6bb5fcb3d04b78671984e73035196f8">sys_mkdir</a> (trapframe_t *tf)</td></tr>
<tr class="separator:ad6bb5fcb3d04b78671984e73035196f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c445ea8ecb991dce5bdb75758a7ae00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a3c445ea8ecb991dce5bdb75758a7ae00">sys_rmdir</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a3c445ea8ecb991dce5bdb75758a7ae00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8cfcb00d188386a016563f7a996c048"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#ad8cfcb00d188386a016563f7a996c048">sys_chdir</a> (trapframe_t *tf)</td></tr>
<tr class="separator:ad8cfcb00d188386a016563f7a996c048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e0a4bf25eef982fe5f103f705bfa226"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a0e0a4bf25eef982fe5f103f705bfa226">sys_getdents</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a0e0a4bf25eef982fe5f103f705bfa226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79c56b44dea2b1986e720820cf59305"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#ae79c56b44dea2b1986e720820cf59305">sys_select</a> (trapframe_t *tf)</td></tr>
<tr class="separator:ae79c56b44dea2b1986e720820cf59305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2809a06922674045241f747bd95e102"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#ab2809a06922674045241f747bd95e102">sys_exit</a> (trapframe_t *tf)</td></tr>
<tr class="separator:ab2809a06922674045241f747bd95e102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6afe1add24bf04689d5b353b0ed6aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#afd6afe1add24bf04689d5b353b0ed6aa">sys_fork</a> (trapframe_t *tf)</td></tr>
<tr class="separator:afd6afe1add24bf04689d5b353b0ed6aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ecf4d63baf609139fe2d7e92e2a75d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a7ecf4d63baf609139fe2d7e92e2a75d7">sys_waitpid</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a7ecf4d63baf609139fe2d7e92e2a75d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc7f23866bfa3886be5a4e51403bc6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a8dc7f23866bfa3886be5a4e51403bc6e">sys_exec</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a8dc7f23866bfa3886be5a4e51403bc6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab122f10c9d404966ffa3f6b9199d5173"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#ab122f10c9d404966ffa3f6b9199d5173">sys_sigaction</a> (trapframe_t *tf)</td></tr>
<tr class="separator:ab122f10c9d404966ffa3f6b9199d5173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d4fc21e1f1c646523631c8e93e67a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#af1d4fc21e1f1c646523631c8e93e67a6">sys_sigreturn</a> (trapframe_t *tf)</td></tr>
<tr class="separator:af1d4fc21e1f1c646523631c8e93e67a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f9d64fc865f56befef0c2bced2346c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a94f9d64fc865f56befef0c2bced2346c">sys_raise</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a94f9d64fc865f56befef0c2bced2346c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0f59725283a2901238a00015d331bba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#ab0f59725283a2901238a00015d331bba">sys_getpid</a> (trapframe_t *tf)</td></tr>
<tr class="separator:ab0f59725283a2901238a00015d331bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5efae95955087990d74a3d07cf267102"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a5efae95955087990d74a3d07cf267102">sys_kill</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a5efae95955087990d74a3d07cf267102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf0d451e8c60082fa28373eb0607178"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a6cf0d451e8c60082fa28373eb0607178">sys_setpgid</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a6cf0d451e8c60082fa28373eb0607178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6a498635cf37f2840b58a02a1bee70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a4c6a498635cf37f2840b58a02a1bee70">sys_getpgid</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a4c6a498635cf37f2840b58a02a1bee70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb6b61bab13dd6a17c777a7979bcb7a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#afb6b61bab13dd6a17c777a7979bcb7a2">sys_create_thread</a> (trapframe_t *tf)</td></tr>
<tr class="separator:afb6b61bab13dd6a17c777a7979bcb7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7635c8720e59a3a15cdd370c44532126"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a7635c8720e59a3a15cdd370c44532126">sys_sleep</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a7635c8720e59a3a15cdd370c44532126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a705ffa5441da932f3bbb9ab3f9e006"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a7a705ffa5441da932f3bbb9ab3f9e006">sys_mmap</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a7a705ffa5441da932f3bbb9ab3f9e006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fae867d2466a90ca974013354df098c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a6fae867d2466a90ca974013354df098c">sys_munmap</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a6fae867d2466a90ca974013354df098c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905bdea7f3632bfe30b6f5766c69e1ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a905bdea7f3632bfe30b6f5766c69e1ff">sys_socket</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a905bdea7f3632bfe30b6f5766c69e1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1c96ad254398d96021241d692b6f8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#abc1c96ad254398d96021241d692b6f8e">sys_bind</a> (trapframe_t *tf)</td></tr>
<tr class="separator:abc1c96ad254398d96021241d692b6f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f597fb5947bc6c63d54e7c1688de19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a75f597fb5947bc6c63d54e7c1688de19">sys_connect</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a75f597fb5947bc6c63d54e7c1688de19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd02e201a72af9b09999584f2c53818"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a3dd02e201a72af9b09999584f2c53818">sys_ioctl</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a3dd02e201a72af9b09999584f2c53818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9df9a68522373902ee2dd594595e28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a1d9df9a68522373902ee2dd594595e28">sys_shbuf_create</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a1d9df9a68522373902ee2dd594595e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dedaf54dc7044f5d21fec8c1e1a44c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a8dedaf54dc7044f5d21fec8c1e1a44c3">sys_shbuf_get</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a8dedaf54dc7044f5d21fec8c1e1a44c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f2fe57a553b2f1cfd7ea43d95fe260"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a59f2fe57a553b2f1cfd7ea43d95fe260">sys_shbuf_free</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a59f2fe57a553b2f1cfd7ea43d95fe260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2531ed96dae3790adca28e479c9af3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a6f2531ed96dae3790adca28e479c9af3">sys_sched_yield</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a6f2531ed96dae3790adca28e479c9af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d6289266af54a18adf56221359a79b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#a44d6289266af54a18adf56221359a79b">sys_none</a> (trapframe_t *tf)</td></tr>
<tr class="separator:a44d6289266af54a18adf56221359a79b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aaa98cc8cf7cbfab08d8f25c5e46bd39b"><td class="memItemLeft" align="right" valign="top">static const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__handler_8c.html#aaa98cc8cf7cbfab08d8f25c5e46bd39b">syscalls</a> []</td></tr>
<tr class="separator:aaa98cc8cf7cbfab08d8f25c5e46bd39b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4bd21ff720e3c611cb94ceb4f2b2aa67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bd21ff720e3c611cb94ceb4f2b2aa67">&#9670;&nbsp;</a></span>param1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define param1&#160;&#160;&#160;(tf-&gt;ebx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00019">19</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>

</div>
</div>
<a id="a17672119b748bbdf6357f43eb819bf04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17672119b748bbdf6357f43eb819bf04">&#9670;&nbsp;</a></span>param2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define param2&#160;&#160;&#160;(tf-&gt;ecx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00020">20</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>

</div>
</div>
<a id="a76d2d23ab53e9614c8bec65bdabc53c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76d2d23ab53e9614c8bec65bdabc53c7">&#9670;&nbsp;</a></span>param3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define param3&#160;&#160;&#160;(tf-&gt;edx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00021">21</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>

</div>
</div>
<a id="a1a1b8cae7d84b6f1b3fc1a49a7a7b144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a1b8cae7d84b6f1b3fc1a49a7a7b144">&#9670;&nbsp;</a></span>param4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define param4&#160;&#160;&#160;(tf-&gt;esi)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00022">22</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>

</div>
</div>
<a id="a10d3beceafcc21f4edc6799b1bec52e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10d3beceafcc21f4edc6799b1bec52e5">&#9670;&nbsp;</a></span>param5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define param5&#160;&#160;&#160;(tf-&gt;edi)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00023">23</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>

</div>
</div>
<a id="aaae3d18c16b4873d38e76227fc8a20f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaae3d18c16b4873d38e76227fc8a20f4">&#9670;&nbsp;</a></span>return_with_val</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define return_with_val</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    (tf-&gt;eax = val);         \</div>
<div class="line">    return</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00028">28</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2247381457e37e87bf4ea85cb1bced4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2247381457e37e87bf4ea85cb1bced4a">&#9670;&nbsp;</a></span>ksyscall_impl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ksyscall_impl </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sys_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00078">78</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="system_8h.html#a703bc6b45945b4d70aea606f7fbf26d6">system_disable_interrupts</a>();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    trapframe_t tf;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    tf.eax = sys_id;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    tf.ebx = a;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    tf.ecx = b;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    tf.edx = c;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="sys__handler_8c.html#ad6fdbf0162c4f2cd8c9955a6b68d8f67">sys_handler</a>(&amp;tf);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">/* This hack has to be here, when a context switching happens</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">       during a syscall (e.g. when block occurs). The hack will start</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">       interrupts again after it has become a running thread. */</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="system_8h.html#a18251f86dd00a2f140019744e32329c2">system_enable_interrupts</a>();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> tf.eax;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
<div class="ttc" id="asys__handler_8c_html_ad6fdbf0162c4f2cd8c9955a6b68d8f67"><div class="ttname"><a href="sys__handler_8c.html#ad6fdbf0162c4f2cd8c9955a6b68d8f67">sys_handler</a></div><div class="ttdeci">void sys_handler(trapframe_t *tf)</div><div class="ttdef"><b>Definition:</b> <a href="sys__handler_8c_source.html#l00094">sys_handler.c:94</a></div></div>
<div class="ttc" id="asystem_8h_html_a18251f86dd00a2f140019744e32329c2"><div class="ttname"><a href="system_8h.html#a18251f86dd00a2f140019744e32329c2">system_enable_interrupts</a></div><div class="ttdeci">void system_enable_interrupts()</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00021">system.c:21</a></div></div>
<div class="ttc" id="asystem_8h_html_a703bc6b45945b4d70aea606f7fbf26d6"><div class="ttname"><a href="system_8h.html#a703bc6b45945b4d70aea606f7fbf26d6">system_disable_interrupts</a></div><div class="ttdeci">void system_disable_interrupts()</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00015">system.c:15</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00094">sys_handler()</a>, <a class="el" href="system_8c_source.html#l00015">system_disable_interrupts()</a>, and <a class="el" href="system_8c_source.html#l00021">system_enable_interrupts()</a>.</p>

</div>
</div>
<a id="a54bd344e721e020e7684e2b3a29b4cff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54bd344e721e020e7684e2b3a29b4cff">&#9670;&nbsp;</a></span>set_return()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_return </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00073">73</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    tf-&gt;eax = val;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sys__handler_8c_source.html#l00405">sys_exec()</a>, <a class="el" href="sys__handler_8c_source.html#l00410">sys_sigaction()</a>, and <a class="el" href="sys__handler_8c_source.html#l00399">sys_waitpid()</a>.</p>

</div>
</div>
<a id="abc1c96ad254398d96021241d692b6f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc1c96ad254398d96021241d692b6f8e">&#9670;&nbsp;</a></span>sys_bind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_bind </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00577">577</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;{</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordtype">int</span> sockfd = <a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordtype">char</span>* <a class="code" href="namespacecopy__bin.html#ac19e0622db9715c974b893fdb8327374">name</a> = (<span class="keywordtype">char</span>*)<a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> len = (<a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code" href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* sfd = <a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, sockfd);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">if</span> (sfd-&gt;<a class="code" href="structfile__descriptor.html#abb9da577abe1c44d69e8cc99b14a49d1">type</a> != <a class="code" href="vfs_8h.html#a9a761e3ffc067c3be174046820b9615aa134c06253ca3560a7c4ae789033b22dd">FD_TYPE_SOCKET</a> || !sfd-&gt;<a class="code" href="structfile__descriptor.html#abfd486322c3897597ec527eae9b60336">sock_entry</a>) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (sfd-&gt;<a class="code" href="structfile__descriptor.html#abfd486322c3897597ec527eae9b60336">sock_entry</a>-&gt;<a class="code" href="structsocket.html#a3fa135787db04692aab6b0b932ce647c">domain</a> == <a class="code" href="syscall__structs_8h.html#a4e21869e6002519f27b60e7425d41d17a3f9ed82fceb8c585348267ec53dc1f27">PF_LOCAL</a>) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="local__socket_8h.html#ac9bf4b6b6fd78ec01cbed901551aec13">local_socket_bind</a>(sfd, <a class="code" href="namespacecopy__bin.html#ac19e0622db9715c974b893fdb8327374">name</a>, len));</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(0);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="ttc" id="agdt_8h_html_a93c7c40d4fc2b2a4e8fea0f75e81e856"><div class="ttname"><a href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a></div><div class="ttdeci">uint32_t p</div><div class="ttdef"><b>Definition:</b> <a href="gdt_8h_source.html#l00006">gdt.h:6</a></div></div>
<div class="ttc" id="ainclude_2errno_8h_html_ac54507d66b43ad12f9356257323c0018"><div class="ttname"><a href="include_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a></div><div class="ttdeci">#define EBADF</div><div class="ttdef"><b>Definition:</b> <a href="include_2errno_8h_source.html#l00012">errno.h:12</a></div></div>
<div class="ttc" id="alocal__socket_8h_html_ac9bf4b6b6fd78ec01cbed901551aec13"><div class="ttname"><a href="local__socket_8h.html#ac9bf4b6b6fd78ec01cbed901551aec13">local_socket_bind</a></div><div class="ttdeci">int local_socket_bind(file_descriptor_t *sock, char *name, uint32_t len)</div><div class="ttdef"><b>Definition:</b> <a href="local__socket_8c_source.html#l00068">local_socket.c:68</a></div></div>
<div class="ttc" id="anamespacecopy__bin_html_ac19e0622db9715c974b893fdb8327374"><div class="ttname"><a href="namespacecopy__bin.html#ac19e0622db9715c974b893fdb8327374">copy_bin.name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> <a href="copy__bin_8py_source.html#l00071">copy_bin.py:71</a></div></div>
<div class="ttc" id="aproc_8h_html_ace4dcc184cab83c0ab38212d8b954b84"><div class="ttname"><a href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a></div><div class="ttdeci">file_descriptor_t * proc_get_fd(proc_t *p, uint32_t index)</div><div class="ttdef"><b>Definition:</b> <a href="proc_8c_source.html#l00367">proc.c:367</a></div></div>
<div class="ttc" id="astructfile__descriptor_html"><div class="ttname"><a href="structfile__descriptor.html">file_descriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00124">vfs.h:124</a></div></div>
<div class="ttc" id="astructfile__descriptor_html_abb9da577abe1c44d69e8cc99b14a49d1"><div class="ttname"><a href="structfile__descriptor.html#abb9da577abe1c44d69e8cc99b14a49d1">file_descriptor::type</a></div><div class="ttdeci">uint32_t type</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00125">vfs.h:125</a></div></div>
<div class="ttc" id="astructfile__descriptor_html_abfd486322c3897597ec527eae9b60336"><div class="ttname"><a href="structfile__descriptor.html#abfd486322c3897597ec527eae9b60336">file_descriptor::sock_entry</a></div><div class="ttdeci">struct socket * sock_entry</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00128">vfs.h:128</a></div></div>
<div class="ttc" id="astructproc_html"><div class="ttname"><a href="structproc.html">proc</a></div><div class="ttdef"><b>Definition:</b> <a href="proc_8h_source.html#l00059">proc.h:59</a></div></div>
<div class="ttc" id="astructsocket_html_a3fa135787db04692aab6b0b932ce647c"><div class="ttname"><a href="structsocket.html#a3fa135787db04692aab6b0b932ce647c">socket::domain</a></div><div class="ttdeci">int domain</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00139">vfs.h:139</a></div></div>
<div class="ttc" id="asys__handler_8c_html_a17672119b748bbdf6357f43eb819bf04"><div class="ttname"><a href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a></div><div class="ttdeci">#define param2</div><div class="ttdef"><b>Definition:</b> <a href="sys__handler_8c_source.html#l00020">sys_handler.c:20</a></div></div>
<div class="ttc" id="asys__handler_8c_html_a4bd21ff720e3c611cb94ceb4f2b2aa67"><div class="ttname"><a href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a></div><div class="ttdeci">#define param1</div><div class="ttdef"><b>Definition:</b> <a href="sys__handler_8c_source.html#l00019">sys_handler.c:19</a></div></div>
<div class="ttc" id="asys__handler_8c_html_a76d2d23ab53e9614c8bec65bdabc53c7"><div class="ttname"><a href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a></div><div class="ttdeci">#define param3</div><div class="ttdef"><b>Definition:</b> <a href="sys__handler_8c_source.html#l00021">sys_handler.c:21</a></div></div>
<div class="ttc" id="asys__handler_8c_html_aaae3d18c16b4873d38e76227fc8a20f4"><div class="ttname"><a href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a></div><div class="ttdeci">#define return_with_val(val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__handler_8c_source.html#l00028">sys_handler.c:28</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00008">syscall_structs.h:8</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a4e21869e6002519f27b60e7425d41d17a3f9ed82fceb8c585348267ec53dc1f27"><div class="ttname"><a href="syscall__structs_8h.html#a4e21869e6002519f27b60e7425d41d17a3f9ed82fceb8c585348267ec53dc1f27">PF_LOCAL</a></div><div class="ttdeci">@ PF_LOCAL</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00161">syscall_structs.h:161</a></div></div>
<div class="ttc" id="atasking_8h_html_a5ec587856ddd0b69124e4fa40258ae0d"><div class="ttname"><a href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a></div><div class="ttdeci">#define RUNNIG_THREAD</div><div class="ttdef"><b>Definition:</b> <a href="tasking_8h_source.html#l00022">tasking.h:22</a></div></div>
<div class="ttc" id="avfs_8h_html_a9a761e3ffc067c3be174046820b9615aa134c06253ca3560a7c4ae789033b22dd"><div class="ttname"><a href="vfs_8h.html#a9a761e3ffc067c3be174046820b9615aa134c06253ca3560a7c4ae789033b22dd">FD_TYPE_SOCKET</a></div><div class="ttdeci">@ FD_TYPE_SOCKET</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00121">vfs.h:121</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vfs_8h_source.html#l00139">socket::domain</a>, <a class="el" href="include_2errno_8h_source.html#l00012">EBADF</a>, <a class="el" href="vfs_8h_source.html#l00121">FD_TYPE_SOCKET</a>, <a class="el" href="local__socket_8c_source.html#l00068">local_socket_bind()</a>, <a class="el" href="copy__bin_8py_source.html#l00071">copy_bin::name</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00021">param3</a>, <a class="el" href="syscall__structs_8h_source.html#l00161">PF_LOCAL</a>, <a class="el" href="proc_8c_source.html#l00367">proc_get_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="vfs_8h_source.html#l00128">file_descriptor::sock_entry</a>, and <a class="el" href="vfs_8h_source.html#l00125">file_descriptor::type</a>.</p>

</div>
</div>
<a id="ad8cfcb00d188386a016563f7a996c048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8cfcb00d188386a016563f7a996c048">&#9670;&nbsp;</a></span>sys_chdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_chdir </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00322">322</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">/* proc lock */</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* path = (<span class="keywordtype">char</span>*)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="proc_8h.html#a1a447b33e094e1a40da1741bbfee3db6">proc_chdir</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process, path));</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div>
<div class="ttc" id="aproc_8h_html_a1a447b33e094e1a40da1741bbfee3db6"><div class="ttname"><a href="proc_8h.html#a1a447b33e094e1a40da1741bbfee3db6">proc_chdir</a></div><div class="ttdeci">int proc_chdir(proc_t *p, const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="proc_8c_source.html#l00313">proc.c:313</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="proc_8c_source.html#l00313">proc_chdir()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, and <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>.</p>

</div>
</div>
<a id="aadf9c4b66777d7e2998cc6ff32e84f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf9c4b66777d7e2998cc6ff32e84f1d">&#9670;&nbsp;</a></span>sys_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_close </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00143">143</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd = <a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process, <a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (!fd) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="vfs_8h.html#a19fa25f5b48032596e786cabbdd52ad9">vfs_close</a>(fd));</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
<div class="ttc" id="avfs_8h_html_a19fa25f5b48032596e786cabbdd52ad9"><div class="ttname"><a href="vfs_8h.html#a19fa25f5b48032596e786cabbdd52ad9">vfs_close</a></div><div class="ttdeci">int vfs_close(file_descriptor_t *fd)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8c_source.html#l00199">vfs.c:199</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="include_2errno_8h_source.html#l00012">EBADF</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="proc_8c_source.html#l00367">proc_get_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, and <a class="el" href="vfs_8c_source.html#l00199">vfs_close()</a>.</p>

</div>
</div>
<a id="a75f597fb5947bc6c63d54e7c1688de19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f597fb5947bc6c63d54e7c1688de19">&#9670;&nbsp;</a></span>sys_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_connect </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00596">596</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;{</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordtype">int</span> sockfd = <a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordtype">char</span>* <a class="code" href="namespacecopy__bin.html#ac19e0622db9715c974b893fdb8327374">name</a> = (<span class="keywordtype">char</span>*)<a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> len = (<a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code" href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* sfd = <a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, sockfd);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">if</span> (sfd-&gt;<a class="code" href="structfile__descriptor.html#abb9da577abe1c44d69e8cc99b14a49d1">type</a> != <a class="code" href="vfs_8h.html#a9a761e3ffc067c3be174046820b9615aa134c06253ca3560a7c4ae789033b22dd">FD_TYPE_SOCKET</a> || !sfd-&gt;<a class="code" href="structfile__descriptor.html#abfd486322c3897597ec527eae9b60336">sock_entry</a>) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span> (sfd-&gt;<a class="code" href="structfile__descriptor.html#abfd486322c3897597ec527eae9b60336">sock_entry</a>-&gt;<a class="code" href="structsocket.html#a3fa135787db04692aab6b0b932ce647c">domain</a> == <a class="code" href="syscall__structs_8h.html#a4e21869e6002519f27b60e7425d41d17a3f9ed82fceb8c585348267ec53dc1f27">PF_LOCAL</a>) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="local__socket_8h.html#a2870660175a9cced88532f54a55b3614">local_socket_connect</a>(sfd, <a class="code" href="namespacecopy__bin.html#ac19e0622db9715c974b893fdb8327374">name</a>, len));</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a3f317946e043623f9d6b93dbf60e6316">EFAULT</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div>
<div class="ttc" id="ainclude_2errno_8h_html_a3f317946e043623f9d6b93dbf60e6316"><div class="ttname"><a href="include_2errno_8h.html#a3f317946e043623f9d6b93dbf60e6316">EFAULT</a></div><div class="ttdeci">#define EFAULT</div><div class="ttdef"><b>Definition:</b> <a href="include_2errno_8h_source.html#l00017">errno.h:17</a></div></div>
<div class="ttc" id="alocal__socket_8h_html_a2870660175a9cced88532f54a55b3614"><div class="ttname"><a href="local__socket_8h.html#a2870660175a9cced88532f54a55b3614">local_socket_connect</a></div><div class="ttdeci">int local_socket_connect(file_descriptor_t *sock, char *name, uint32_t len)</div><div class="ttdef"><b>Definition:</b> <a href="local__socket_8c_source.html#l00096">local_socket.c:96</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vfs_8h_source.html#l00139">socket::domain</a>, <a class="el" href="include_2errno_8h_source.html#l00012">EBADF</a>, <a class="el" href="include_2errno_8h_source.html#l00017">EFAULT</a>, <a class="el" href="vfs_8h_source.html#l00121">FD_TYPE_SOCKET</a>, <a class="el" href="local__socket_8c_source.html#l00096">local_socket_connect()</a>, <a class="el" href="copy__bin_8py_source.html#l00071">copy_bin::name</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00021">param3</a>, <a class="el" href="syscall__structs_8h_source.html#l00161">PF_LOCAL</a>, <a class="el" href="proc_8c_source.html#l00367">proc_get_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="vfs_8h_source.html#l00128">file_descriptor::sock_entry</a>, and <a class="el" href="vfs_8h_source.html#l00125">file_descriptor::type</a>.</p>

</div>
</div>
<a id="a5dda3f211762b38598691eea8ffc1500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dda3f211762b38598691eea8ffc1500">&#9670;&nbsp;</a></span>sys_creat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_creat </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00233">233</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* path = (<span class="keywordtype">char</span>*)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="ext2_8h.html#af456ddc19314d0bde5426f9027e96b05">mode_t</a> <a class="code" href="edit_2main_8c.html#a6b29e4f37f4482274af785ad5ffe96a7">mode</a> = <a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordtype">char</span>* kpath = 0;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="utils_8h.html#a6cd637b285f4d4844912affebb05dff4">str_validate_len</a>(path, 128)) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordtype">int</span> name_len = <a class="code" href="utils_8h.html#adb355892c2a2bf574f79bd8a4979183c">strlen</a>(path);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    kpath = <a class="code" href="mem_8h.html#a93e0348b66827f7b9a4ebae1b7394141">kmem_bring_to_kernel</a>(path, name_len + 1);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="vfs_8h.html#ac2f30f7d4e37ee3e72e8aaae8221ba41">vfs_create</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>-&gt;cwd, kpath, name_len, <a class="code" href="edit_2main_8c.html#a6b29e4f37f4482274af785ad5ffe96a7">mode</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(err);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">/* Opening file */</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd = <a class="code" href="proc_8h.html#ada44023105fdc0405fbf4f2e0444b2e3">proc_get_free_fd</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="structdentry.html">dentry_t</a>* file;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vfs_8h.html#a7b678a2a5a34506cb2c3dd1162d24c47">vfs_resolve_path_start_from</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>-&gt;cwd, kpath, &amp;file) &lt; 0) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-1);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    err = <a class="code" href="vfs_8h.html#afa33bbda28caa00fc7d0ea9eabecda1d">vfs_open</a>(file, fd, <a class="code" href="syscall__structs_8h.html#a11b644a8526139c4cc1850dac1271ced">O_WRONLY</a>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="vfs_8h.html#a7b69e608ff6502aa7604cb61d1e85d3e">dentry_put</a>(file);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(err);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="proc_8h.html#a80e15e3a633b0636cc3fc72a58d6b458">proc_get_fd_id</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, fd));</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="ttc" id="aedit_2main_8c_html_a6b29e4f37f4482274af785ad5ffe96a7"><div class="ttname"><a href="edit_2main_8c.html#a6b29e4f37f4482274af785ad5ffe96a7">mode</a></div><div class="ttdeci">uint32_t mode</div><div class="ttdef"><b>Definition:</b> <a href="edit_2main_8c_source.html#l00018">main.c:18</a></div></div>
<div class="ttc" id="aext2_8h_html_af456ddc19314d0bde5426f9027e96b05"><div class="ttname"><a href="ext2_8h.html#af456ddc19314d0bde5426f9027e96b05">mode_t</a></div><div class="ttdeci">uint16_t mode_t</div><div class="ttdef"><b>Definition:</b> <a href="ext2_8h_source.html#l00087">ext2.h:87</a></div></div>
<div class="ttc" id="ainclude_2errno_8h_html_a2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdef"><b>Definition:</b> <a href="include_2errno_8h_source.html#l00025">errno.h:25</a></div></div>
<div class="ttc" id="amem_8h_html_a93e0348b66827f7b9a4ebae1b7394141"><div class="ttname"><a href="mem_8h.html#a93e0348b66827f7b9a4ebae1b7394141">kmem_bring_to_kernel</a></div><div class="ttdeci">char * kmem_bring_to_kernel(const char *data, uint32_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00055">mem.c:55</a></div></div>
<div class="ttc" id="aproc_8h_html_a80e15e3a633b0636cc3fc72a58d6b458"><div class="ttname"><a href="proc_8h.html#a80e15e3a633b0636cc3fc72a58d6b458">proc_get_fd_id</a></div><div class="ttdeci">int proc_get_fd_id(proc_t *proc, file_descriptor_t *fd)</div><div class="ttdef"><b>Definition:</b> <a href="proc_8c_source.html#l00340">proc.c:340</a></div></div>
<div class="ttc" id="aproc_8h_html_ada44023105fdc0405fbf4f2e0444b2e3"><div class="ttname"><a href="proc_8h.html#ada44023105fdc0405fbf4f2e0444b2e3">proc_get_free_fd</a></div><div class="ttdeci">file_descriptor_t * proc_get_free_fd(proc_t *p)</div><div class="ttdef"><b>Definition:</b> <a href="proc_8c_source.html#l00354">proc.c:354</a></div></div>
<div class="ttc" id="astructdentry_html"><div class="ttname"><a href="structdentry.html">dentry</a></div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00054">vfs.h:54</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a11b644a8526139c4cc1850dac1271ced"><div class="ttname"><a href="syscall__structs_8h.html#a11b644a8526139c4cc1850dac1271ced">O_WRONLY</a></div><div class="ttdeci">#define O_WRONLY</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00097">syscall_structs.h:97</a></div></div>
<div class="ttc" id="autils_8h_html_a6cd637b285f4d4844912affebb05dff4"><div class="ttname"><a href="utils_8h.html#a6cd637b285f4d4844912affebb05dff4">str_validate_len</a></div><div class="ttdeci">bool str_validate_len(const char *c, uint32_t len)</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00108">utils.c:108</a></div></div>
<div class="ttc" id="autils_8h_html_adb355892c2a2bf574f79bd8a4979183c"><div class="ttname"><a href="utils_8h.html#adb355892c2a2bf574f79bd8a4979183c">strlen</a></div><div class="ttdeci">uint32_t strlen(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00053">string.c:53</a></div></div>
<div class="ttc" id="avfs_8h_html_a7b678a2a5a34506cb2c3dd1162d24c47"><div class="ttname"><a href="vfs_8h.html#a7b678a2a5a34506cb2c3dd1162d24c47">vfs_resolve_path_start_from</a></div><div class="ttdeci">int vfs_resolve_path_start_from(dentry_t *dentry, const char *path, dentry_t **result)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8c_source.html#l00358">vfs.c:358</a></div></div>
<div class="ttc" id="avfs_8h_html_a7b69e608ff6502aa7604cb61d1e85d3e"><div class="ttname"><a href="vfs_8h.html#a7b69e608ff6502aa7604cb61d1e85d3e">dentry_put</a></div><div class="ttdeci">void dentry_put(dentry_t *dentry)</div><div class="ttdef"><b>Definition:</b> <a href="dentry_8c_source.html#l00301">dentry.c:301</a></div></div>
<div class="ttc" id="avfs_8h_html_ac2f30f7d4e37ee3e72e8aaae8221ba41"><div class="ttname"><a href="vfs_8h.html#ac2f30f7d4e37ee3e72e8aaae8221ba41">vfs_create</a></div><div class="ttdeci">int vfs_create(dentry_t *dir, const char *name, uint32_t len, mode_t mode)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8c_source.html#l00220">vfs.c:220</a></div></div>
<div class="ttc" id="avfs_8h_html_afa33bbda28caa00fc7d0ea9eabecda1d"><div class="ttname"><a href="vfs_8h.html#afa33bbda28caa00fc7d0ea9eabecda1d">vfs_open</a></div><div class="ttdeci">int vfs_open(dentry_t *file, file_descriptor_t *fd, uint32_t flags)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8c_source.html#l00163">vfs.c:163</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dentry_8c_source.html#l00301">dentry_put()</a>, <a class="el" href="include_2errno_8h_source.html#l00025">EINVAL</a>, <a class="el" href="mem_8c_source.html#l00055">kmem_bring_to_kernel()</a>, <a class="el" href="edit_2main_8c_source.html#l00018">mode</a>, <a class="el" href="syscall__structs_8h_source.html#l00097">O_WRONLY</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="proc_8c_source.html#l00340">proc_get_fd_id()</a>, <a class="el" href="proc_8c_source.html#l00354">proc_get_free_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="utils_8c_source.html#l00108">str_validate_len()</a>, <a class="el" href="string_8c_source.html#l00053">strlen()</a>, <a class="el" href="vfs_8c_source.html#l00220">vfs_create()</a>, <a class="el" href="vfs_8c_source.html#l00163">vfs_open()</a>, and <a class="el" href="vfs_8c_source.html#l00358">vfs_resolve_path_start_from()</a>.</p>

</div>
</div>
<a id="afb6b61bab13dd6a17c777a7979bcb7a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb6b61bab13dd6a17c777a7979bcb7a2">&#9670;&nbsp;</a></span>sys_create_thread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_create_thread </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00463">463</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;{</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="structthread.html">thread_t</a>* <a class="code" href="structthread.html">thread</a> = <a class="code" href="proc_8h.html#a49228c7f2e03af2daba11e5c2b383f4d">proc_create_thread</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="structthread.html">thread</a>) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a3f317946e043623f9d6b93dbf60e6316">EFAULT</a>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="structthread__create__params.html">thread_create_params_t</a>* params = (<a class="code" href="structthread__create__params.html">thread_create_params_t</a>*)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="thread_8h.html#a41d149237557e0ea7cf265ee5a2fccb7">thread_set_eip</a>(<a class="code" href="structthread.html">thread</a>, params-&gt;<a class="code" href="structthread__create__params.html#ac257b42002d6a66f52189a00223f8a64">entry_point</a>);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> esp = params-&gt;<a class="code" href="structthread__create__params.html#a07728b0b3c0fa31e7d5ca27635a0d116">stack_start</a> + params-&gt;<a class="code" href="structthread__create__params.html#a74c8fe7bd979c56474c4a7002c7d44d4">stack_size</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="thread_8h.html#adee7cb0a35b1c2230f041f79cf309662">thread_set_stack</a>(<a class="code" href="structthread.html">thread</a>, esp, esp);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="structthread.html">thread</a>-&gt;<a class="code" href="structthread.html#a1338a1e63ed7615db414fa1ad66aefd6">tid</a>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div>
<div class="ttc" id="aproc_8h_html_a49228c7f2e03af2daba11e5c2b383f4d"><div class="ttname"><a href="proc_8h.html#a49228c7f2e03af2daba11e5c2b383f4d">proc_create_thread</a></div><div class="ttdeci">struct thread * proc_create_thread(proc_t *p)</div><div class="ttdef"><b>Definition:</b> <a href="proc_8c_source.html#l00282">proc.c:282</a></div></div>
<div class="ttc" id="astructthread__create__params_html"><div class="ttname"><a href="structthread__create__params.html">thread_create_params</a></div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00201">syscall_structs.h:201</a></div></div>
<div class="ttc" id="astructthread__create__params_html_a07728b0b3c0fa31e7d5ca27635a0d116"><div class="ttname"><a href="structthread__create__params.html#a07728b0b3c0fa31e7d5ca27635a0d116">thread_create_params::stack_start</a></div><div class="ttdeci">uint32_t stack_start</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00203">syscall_structs.h:203</a></div></div>
<div class="ttc" id="astructthread__create__params_html_a74c8fe7bd979c56474c4a7002c7d44d4"><div class="ttname"><a href="structthread__create__params.html#a74c8fe7bd979c56474c4a7002c7d44d4">thread_create_params::stack_size</a></div><div class="ttdeci">uint32_t stack_size</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00204">syscall_structs.h:204</a></div></div>
<div class="ttc" id="astructthread__create__params_html_ac257b42002d6a66f52189a00223f8a64"><div class="ttname"><a href="structthread__create__params.html#ac257b42002d6a66f52189a00223f8a64">thread_create_params::entry_point</a></div><div class="ttdeci">uint32_t entry_point</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00202">syscall_structs.h:202</a></div></div>
<div class="ttc" id="astructthread_html"><div class="ttname"><a href="structthread.html">thread</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00054">thread.h:54</a></div></div>
<div class="ttc" id="astructthread_html_a1338a1e63ed7615db414fa1ad66aefd6"><div class="ttname"><a href="structthread.html#a1338a1e63ed7615db414fa1ad66aefd6">thread::tid</a></div><div class="ttdeci">uint32_t tid</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00056">thread.h:56</a></div></div>
<div class="ttc" id="athread_8h_html_a41d149237557e0ea7cf265ee5a2fccb7"><div class="ttname"><a href="thread_8h.html#a41d149237557e0ea7cf265ee5a2fccb7">thread_set_eip</a></div><div class="ttdeci">void thread_set_eip(thread_t *thread, uint32_t eip)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00065">thread.c:65</a></div></div>
<div class="ttc" id="athread_8h_html_adee7cb0a35b1c2230f041f79cf309662"><div class="ttname"><a href="thread_8h.html#adee7cb0a35b1c2230f041f79cf309662">thread_set_stack</a></div><div class="ttdeci">void thread_set_stack(thread_t *thread, uint32_t ebp, uint32_t esp)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00059">thread.c:59</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="include_2errno_8h_source.html#l00017">EFAULT</a>, <a class="el" href="syscall__structs_8h_source.html#l00202">thread_create_params::entry_point</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="proc_8c_source.html#l00282">proc_create_thread()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="syscall__structs_8h_source.html#l00204">thread_create_params::stack_size</a>, <a class="el" href="syscall__structs_8h_source.html#l00203">thread_create_params::stack_start</a>, <a class="el" href="thread_8c_source.html#l00065">thread_set_eip()</a>, <a class="el" href="thread_8c_source.html#l00059">thread_set_stack()</a>, and <a class="el" href="thread_8h_source.html#l00056">thread::tid</a>.</p>

</div>
</div>
<a id="a8dc7f23866bfa3886be5a4e51403bc6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dc7f23866bfa3886be5a4e51403bc6e">&#9670;&nbsp;</a></span>sys_exec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_exec </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00405">405</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;{</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="sys__handler_8c.html#a54bd344e721e020e7684e2b3a29b4cff">set_return</a>(tf, <a class="code" href="tasking_8h.html#ad53c7ba4ef0fbe83f5bec1458a774583">tasking_exec</a>((<span class="keywordtype">char</span>*)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span>**)<a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span>**)<a class="code" href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a>));</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div>
<div class="ttc" id="asys__handler_8c_html_a54bd344e721e020e7684e2b3a29b4cff"><div class="ttname"><a href="sys__handler_8c.html#a54bd344e721e020e7684e2b3a29b4cff">set_return</a></div><div class="ttdeci">static void set_return(trapframe_t *tf, uint32_t val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__handler_8c_source.html#l00073">sys_handler.c:73</a></div></div>
<div class="ttc" id="atasking_8h_html_ad53c7ba4ef0fbe83f5bec1458a774583"><div class="ttname"><a href="tasking_8h.html#ad53c7ba4ef0fbe83f5bec1458a774583">tasking_exec</a></div><div class="ttdeci">int tasking_exec(const char *path, const char **argv, const char **env)</div><div class="ttdef"><b>Definition:</b> <a href="tasking_8c_source.html#l00185">tasking.c:185</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00021">param3</a>, <a class="el" href="sys__handler_8c_source.html#l00073">set_return()</a>, and <a class="el" href="tasking_8c_source.html#l00185">tasking_exec()</a>.</p>

</div>
</div>
<a id="ab2809a06922674045241f747bd95e102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2809a06922674045241f747bd95e102">&#9670;&nbsp;</a></span>sys_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_exit </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TASKING SYSCALLS </p>

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00389">389</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="tasking_8h.html#a01de29b30734b05dce0446ffa6bbbb81">tasking_exit</a>((<span class="keywordtype">int</span>)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div>
<div class="ttc" id="atasking_8h_html_a01de29b30734b05dce0446ffa6bbbb81"><div class="ttname"><a href="tasking_8h.html#a01de29b30734b05dce0446ffa6bbbb81">tasking_exit</a></div><div class="ttdeci">void tasking_exit(int exit_code)</div><div class="ttdef"><b>Definition:</b> <a href="tasking_8c_source.html#l00256">tasking.c:256</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, and <a class="el" href="tasking_8c_source.html#l00256">tasking_exit()</a>.</p>

</div>
</div>
<a id="afd6afe1add24bf04689d5b353b0ed6aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd6afe1add24bf04689d5b353b0ed6aa">&#9670;&nbsp;</a></span>sys_fork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_fork </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00394">394</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;{</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="tasking_8h.html#ae5cf454a2abf1353c346eaacab65b55f">tasking_fork</a>(tf);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div>
<div class="ttc" id="atasking_8h_html_ae5cf454a2abf1353c346eaacab65b55f"><div class="ttname"><a href="tasking_8h.html#ae5cf454a2abf1353c346eaacab65b55f">tasking_fork</a></div><div class="ttdeci">void tasking_fork(trapframe_t *tf)</div><div class="ttdef"><b>Definition:</b> <a href="tasking_8c_source.html#l00153">tasking.c:153</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tasking_8c_source.html#l00153">tasking_fork()</a>.</p>

</div>
</div>
<a id="ac31f21606ec5e58f1bdd6b5db901f574"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac31f21606ec5e58f1bdd6b5db901f574">&#9670;&nbsp;</a></span>sys_fstat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_fstat </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00264">264</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd = <a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process, (<span class="keywordtype">int</span>)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="structfstat.html">fstat_t</a>* stat = (<a class="code" href="structfstat.html">fstat_t</a>*)<a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> (!fd) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (!stat) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    stat-&gt;<a class="code" href="structfstat.html#a60d5bc01530217e359215e0025bf1f23">size</a> = fd-&gt;<a class="code" href="structfile__descriptor.html#aada780efbd33bc5aea0c30465a788e22">dentry</a>-&gt;<a class="code" href="structdentry.html#aa570c7b3f7c32ef505901f3a3e2931b5">inode</a>-&gt;<a class="code" href="structinode__t.html#ac49d528d08a3a85cc264653680b1715d">size</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(0);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="ttc" id="astructdentry_html_aa570c7b3f7c32ef505901f3a3e2931b5"><div class="ttname"><a href="structdentry.html#aa570c7b3f7c32ef505901f3a3e2931b5">dentry::inode</a></div><div class="ttdeci">inode_t * inode</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00058">vfs.h:58</a></div></div>
<div class="ttc" id="astructfile__descriptor_html_aada780efbd33bc5aea0c30465a788e22"><div class="ttname"><a href="structfile__descriptor.html#aada780efbd33bc5aea0c30465a788e22">file_descriptor::dentry</a></div><div class="ttdeci">dentry_t * dentry</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00127">vfs.h:127</a></div></div>
<div class="ttc" id="astructfstat_html"><div class="ttname"><a href="structfstat.html">fstat</a></div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00137">syscall_structs.h:137</a></div></div>
<div class="ttc" id="astructfstat_html_a60d5bc01530217e359215e0025bf1f23"><div class="ttname"><a href="structfstat.html#a60d5bc01530217e359215e0025bf1f23">fstat::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00138">syscall_structs.h:138</a></div></div>
<div class="ttc" id="astructinode__t_html_ac49d528d08a3a85cc264653680b1715d"><div class="ttname"><a href="structinode__t.html#ac49d528d08a3a85cc264653680b1715d">inode_t::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="ext2_8h_source.html#l00094">ext2.h:94</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vfs_8h_source.html#l00127">file_descriptor::dentry</a>, <a class="el" href="include_2errno_8h_source.html#l00012">EBADF</a>, <a class="el" href="include_2errno_8h_source.html#l00025">EINVAL</a>, <a class="el" href="vfs_8h_source.html#l00058">dentry::inode</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="proc_8c_source.html#l00367">proc_get_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="ext2_8h_source.html#l00094">inode_t::size</a>, and <a class="el" href="syscall__structs_8h_source.html#l00138">fstat::size</a>.</p>

</div>
</div>
<a id="a0e0a4bf25eef982fe5f103f705bfa226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e0a4bf25eef982fe5f103f705bfa226">&#9670;&nbsp;</a></span>sys_getdents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_getdents </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00329">329</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;{</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd = (<a class="code" href="structfile__descriptor.html">file_descriptor_t</a>*)<a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, (<a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="syscalls_8c.html#a4b18d2ebe6f1360b6e70b51d90f89ff9">read</a> = <a class="code" href="vfs_8h.html#a37aac697a5761c2e8622cc5e1d3889c8">vfs_getdents</a>(fd, (<a class="code" href="syscall__structs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)<a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>, <a class="code" href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="syscalls_8c.html#a4b18d2ebe6f1360b6e70b51d90f89ff9">read</a>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div>
<div class="ttc" id="asyscall__structs_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="syscall__structs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00010">syscall_structs.h:10</a></div></div>
<div class="ttc" id="asyscalls_8c_html_a4b18d2ebe6f1360b6e70b51d90f89ff9"><div class="ttname"><a href="syscalls_8c.html#a4b18d2ebe6f1360b6e70b51d90f89ff9">read</a></div><div class="ttdeci">int read(int fd, char *buf, size_t count)</div><div class="ttdef"><b>Definition:</b> <a href="syscalls_8c_source.html#l00024">syscalls.c:24</a></div></div>
<div class="ttc" id="avfs_8h_html_a37aac697a5761c2e8622cc5e1d3889c8"><div class="ttname"><a href="vfs_8h.html#a37aac697a5761c2e8622cc5e1d3889c8">vfs_getdents</a></div><div class="ttdeci">int vfs_getdents(file_descriptor_t *dir_fd, uint8_t *buf, uint32_t len)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8c_source.html#l00349">vfs.c:349</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00021">param3</a>, <a class="el" href="proc_8c_source.html#l00367">proc_get_fd()</a>, <a class="el" href="syscalls_8c_source.html#l00024">read()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, and <a class="el" href="vfs_8c_source.html#l00349">vfs_getdents()</a>.</p>

</div>
</div>
<a id="a4c6a498635cf37f2840b58a02a1bee70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c6a498635cf37f2840b58a02a1bee70">&#9670;&nbsp;</a></span>sys_getpgid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_getpgid </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00451">451</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;{</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> pid = <a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#adc69bdd445ce8939e490acd8a7a16935">tasking_get_proc</a>(pid);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a462e47a8af6288232a5df548221ada4c">ESRCH</a>);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>-&gt;pgid);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;}</div>
<div class="ttc" id="ainclude_2errno_8h_html_a462e47a8af6288232a5df548221ada4c"><div class="ttname"><a href="include_2errno_8h.html#a462e47a8af6288232a5df548221ada4c">ESRCH</a></div><div class="ttdeci">#define ESRCH</div><div class="ttdef"><b>Definition:</b> <a href="include_2errno_8h_source.html#l00006">errno.h:6</a></div></div>
<div class="ttc" id="atasking_8h_html_adc69bdd445ce8939e490acd8a7a16935"><div class="ttname"><a href="tasking_8h.html#adc69bdd445ce8939e490acd8a7a16935">tasking_get_proc</a></div><div class="ttdeci">proc_t * tasking_get_proc(uint32_t pid)</div><div class="ttdef"><b>Definition:</b> <a href="tasking_8c_source.html#l00055">tasking.c:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="include_2errno_8h_source.html#l00006">ESRCH</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, and <a class="el" href="tasking_8c_source.html#l00055">tasking_get_proc()</a>.</p>

</div>
</div>
<a id="ab0f59725283a2901238a00015d331bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0f59725283a2901238a00015d331bba">&#9670;&nbsp;</a></span>sys_getpid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_getpid </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00426">426</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;{</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;tid);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, and <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>.</p>

</div>
</div>
<a id="ad6fdbf0162c4f2cd8c9955a6b68d8f67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6fdbf0162c4f2cd8c9955a6b68d8f67">&#9670;&nbsp;</a></span>sys_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_handler </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00094">94</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="system_8h.html#a703bc6b45945b4d70aea606f7fbf26d6">system_disable_interrupts</a>();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    void (*callee)(trapframe_t*) = (<span class="keywordtype">void</span>*)<a class="code" href="sys__handler_8c.html#aaa98cc8cf7cbfab08d8f25c5e46bd39b">syscalls</a>[tf-&gt;eax];</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    callee(tf);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="system_8h.html#aa3c0f5c8a179ee40828e825919e3d186">system_enable_interrupts_only_counter</a>();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
<div class="ttc" id="asys__handler_8c_html_aaa98cc8cf7cbfab08d8f25c5e46bd39b"><div class="ttname"><a href="sys__handler_8c.html#aaa98cc8cf7cbfab08d8f25c5e46bd39b">syscalls</a></div><div class="ttdeci">static const void * syscalls[]</div><div class="ttdef"><b>Definition:</b> <a href="sys__handler_8c_source.html#l00032">sys_handler.c:32</a></div></div>
<div class="ttc" id="asystem_8h_html_aa3c0f5c8a179ee40828e825919e3d186"><div class="ttname"><a href="system_8h.html#aa3c0f5c8a179ee40828e825919e3d186">system_enable_interrupts_only_counter</a></div><div class="ttdeci">void system_enable_interrupts_only_counter()</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00029">system.c:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00032">syscalls</a>, <a class="el" href="system_8c_source.html#l00015">system_disable_interrupts()</a>, and <a class="el" href="system_8c_source.html#l00029">system_enable_interrupts_only_counter()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sys__handler_8c_source.html#l00078">ksyscall_impl()</a>.</p>

</div>
</div>
<a id="a3dd02e201a72af9b09999584f2c53818"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dd02e201a72af9b09999584f2c53818">&#9670;&nbsp;</a></span>sys_ioctl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_ioctl </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00615">615</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;{</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd = <a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, <a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (!fd) {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">if</span> (fd-&gt;<a class="code" href="structfile__descriptor.html#aada780efbd33bc5aea0c30465a788e22">dentry</a>-&gt;<a class="code" href="structdentry.html#a449902caf8375b0834b0b2852896dfc1">ops</a>-&gt;<a class="code" href="structfs__ops.html#ad6052b098d977e57dfc8b3bd3eca8152">file</a>.<a class="code" href="structfile__ops.html#a455033ce59ca61be1cb6ef70826a76c0">ioctl</a>) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(fd-&gt;<a class="code" href="structfile__descriptor.html#aada780efbd33bc5aea0c30465a788e22">dentry</a>-&gt;<a class="code" href="structdentry.html#a449902caf8375b0834b0b2852896dfc1">ops</a>-&gt;<a class="code" href="structfs__ops.html#ad6052b098d977e57dfc8b3bd3eca8152">file</a>.<a class="code" href="structfile__ops.html#a455033ce59ca61be1cb6ef70826a76c0">ioctl</a>(fd-&gt;<a class="code" href="structfile__descriptor.html#aada780efbd33bc5aea0c30465a788e22">dentry</a>, <a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>, <a class="code" href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a>));</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#ac2a2e9fa555401f94478f74e01868032">EACCES</a>);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div>
<div class="ttc" id="ainclude_2errno_8h_html_ac2a2e9fa555401f94478f74e01868032"><div class="ttname"><a href="include_2errno_8h.html#ac2a2e9fa555401f94478f74e01868032">EACCES</a></div><div class="ttdeci">#define EACCES</div><div class="ttdef"><b>Definition:</b> <a href="include_2errno_8h_source.html#l00016">errno.h:16</a></div></div>
<div class="ttc" id="astructdentry_html_a449902caf8375b0834b0b2852896dfc1"><div class="ttname"><a href="structdentry.html#a449902caf8375b0834b0b2852896dfc1">dentry::ops</a></div><div class="ttdeci">struct fs_ops * ops</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00060">vfs.h:60</a></div></div>
<div class="ttc" id="astructfile__ops_html_a455033ce59ca61be1cb6ef70826a76c0"><div class="ttname"><a href="structfile__ops.html#a455033ce59ca61be1cb6ef70826a76c0">file_ops::ioctl</a></div><div class="ttdeci">int(* ioctl)(dentry_t *dentry, uint32_t cmd, uint32_t arg)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00096">vfs.h:96</a></div></div>
<div class="ttc" id="astructfs__ops_html_ad6052b098d977e57dfc8b3bd3eca8152"><div class="ttname"><a href="structfs__ops.html#ad6052b098d977e57dfc8b3bd3eca8152">fs_ops::file</a></div><div class="ttdeci">file_ops_t file</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00114">vfs.h:114</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vfs_8h_source.html#l00127">file_descriptor::dentry</a>, <a class="el" href="include_2errno_8h_source.html#l00016">EACCES</a>, <a class="el" href="include_2errno_8h_source.html#l00012">EBADF</a>, <a class="el" href="vfs_8h_source.html#l00114">fs_ops::file</a>, <a class="el" href="vfs_8h_source.html#l00096">file_ops::ioctl</a>, <a class="el" href="vfs_8h_source.html#l00060">dentry::ops</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00021">param3</a>, <a class="el" href="proc_8c_source.html#l00367">proc_get_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, and <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>.</p>

</div>
</div>
<a id="a5efae95955087990d74a3d07cf267102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5efae95955087990d74a3d07cf267102">&#9670;&nbsp;</a></span>sys_kill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_kill </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00431">431</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;{</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="structthread.html">thread_t</a>* <a class="code" href="structthread.html">thread</a> = <a class="code" href="proc_8h.html#a6a57b6b99e8c0cf1b39aa77293647528">thread_by_pid</a>(<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="tasking_8h.html#a098789b62b9acb8c6971a5b98450bbc9">tasking_kill</a>(<a class="code" href="structthread.html">thread</a>, <a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>));</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div>
<div class="ttc" id="aproc_8h_html_a6a57b6b99e8c0cf1b39aa77293647528"><div class="ttname"><a href="proc_8h.html#a6a57b6b99e8c0cf1b39aa77293647528">thread_by_pid</a></div><div class="ttdeci">struct thread * thread_by_pid(uint32_t pid)</div><div class="ttdef"><b>Definition:</b> <a href="proc_8c_source.html#l00046">proc.c:46</a></div></div>
<div class="ttc" id="atasking_8h_html_a098789b62b9acb8c6971a5b98450bbc9"><div class="ttname"><a href="tasking_8h.html#a098789b62b9acb8c6971a5b98450bbc9">tasking_kill</a></div><div class="ttdeci">int tasking_kill(thread_t *thread, int signo)</div><div class="ttdef"><b>Definition:</b> <a href="tasking_8c_source.html#l00264">tasking.c:264</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8c_source.html#l00264">tasking_kill()</a>, and <a class="el" href="proc_8c_source.html#l00046">thread_by_pid()</a>.</p>

</div>
</div>
<a id="aee029fb17c1d6f79fbef17ccbb831fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee029fb17c1d6f79fbef17ccbb831fc2">&#9670;&nbsp;</a></span>sys_lseek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_lseek </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00180">180</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd = <a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process, (<span class="keywordtype">int</span>)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (!fd) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordtype">int</span> whence = <a class="code" href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">switch</span> (whence) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="syscall__structs_8h.html#a0d112bae8fd35be772185b6ec6bcbe64">SEEK_SET</a>:</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        fd-&gt;<a class="code" href="structfile__descriptor.html#a537de8e2d8331e8edab1ea47ca577418">offset</a> = <a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="syscall__structs_8h.html#a4c8d0b76b470ba65a43ca46a88320f39">SEEK_CUR</a>:</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        fd-&gt;<a class="code" href="structfile__descriptor.html#a537de8e2d8331e8edab1ea47ca577418">offset</a> += <a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="syscall__structs_8h.html#ad2a2e6c114780c3071efd24f16c7f7d8">SEEK_END</a>:</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        fd-&gt;<a class="code" href="structfile__descriptor.html#a537de8e2d8331e8edab1ea47ca577418">offset</a> = fd-&gt;<a class="code" href="structfile__descriptor.html#aada780efbd33bc5aea0c30465a788e22">dentry</a>-&gt;<a class="code" href="structdentry.html#aa570c7b3f7c32ef505901f3a3e2931b5">inode</a>-&gt;<a class="code" href="structinode__t.html#ac49d528d08a3a85cc264653680b1715d">size</a> - <a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (fd-&gt;<a class="code" href="structfile__descriptor.html#a537de8e2d8331e8edab1ea47ca577418">offset</a> &gt;= fd-&gt;<a class="code" href="structfile__descriptor.html#aada780efbd33bc5aea0c30465a788e22">dentry</a>-&gt;<a class="code" href="structdentry.html#aa570c7b3f7c32ef505901f3a3e2931b5">inode</a>-&gt;<a class="code" href="structinode__t.html#ac49d528d08a3a85cc264653680b1715d">size</a>) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a888552a5e3c78b5883904cf5d55244ab">EOVERFLOW</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(0);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
<div class="ttc" id="ainclude_2errno_8h_html_a888552a5e3c78b5883904cf5d55244ab"><div class="ttname"><a href="include_2errno_8h.html#a888552a5e3c78b5883904cf5d55244ab">EOVERFLOW</a></div><div class="ttdeci">#define EOVERFLOW</div><div class="ttdef"><b>Definition:</b> <a href="include_2errno_8h_source.html#l00080">errno.h:80</a></div></div>
<div class="ttc" id="astructfile__descriptor_html_a537de8e2d8331e8edab1ea47ca577418"><div class="ttname"><a href="structfile__descriptor.html#a537de8e2d8331e8edab1ea47ca577418">file_descriptor::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00130">vfs.h:130</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a0d112bae8fd35be772185b6ec6bcbe64"><div class="ttname"><a href="syscall__structs_8h.html#a0d112bae8fd35be772185b6ec6bcbe64">SEEK_SET</a></div><div class="ttdeci">#define SEEK_SET</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00091">syscall_structs.h:91</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a4c8d0b76b470ba65a43ca46a88320f39"><div class="ttname"><a href="syscall__structs_8h.html#a4c8d0b76b470ba65a43ca46a88320f39">SEEK_CUR</a></div><div class="ttdeci">#define SEEK_CUR</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00092">syscall_structs.h:92</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_ad2a2e6c114780c3071efd24f16c7f7d8"><div class="ttname"><a href="syscall__structs_8h.html#ad2a2e6c114780c3071efd24f16c7f7d8">SEEK_END</a></div><div class="ttdeci">#define SEEK_END</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00093">syscall_structs.h:93</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vfs_8h_source.html#l00127">file_descriptor::dentry</a>, <a class="el" href="include_2errno_8h_source.html#l00012">EBADF</a>, <a class="el" href="include_2errno_8h_source.html#l00025">EINVAL</a>, <a class="el" href="include_2errno_8h_source.html#l00080">EOVERFLOW</a>, <a class="el" href="vfs_8h_source.html#l00058">dentry::inode</a>, <a class="el" href="vfs_8h_source.html#l00130">file_descriptor::offset</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00021">param3</a>, <a class="el" href="proc_8c_source.html#l00367">proc_get_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="syscall__structs_8h_source.html#l00092">SEEK_CUR</a>, <a class="el" href="syscall__structs_8h_source.html#l00093">SEEK_END</a>, <a class="el" href="syscall__structs_8h_source.html#l00091">SEEK_SET</a>, and <a class="el" href="ext2_8h_source.html#l00094">inode_t::size</a>.</p>

</div>
</div>
<a id="ad6bb5fcb3d04b78671984e73035196f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6bb5fcb3d04b78671984e73035196f8">&#9670;&nbsp;</a></span>sys_mkdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_mkdir </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00278">278</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* path = (<span class="keywordtype">char</span>*)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordtype">char</span>* kpath = 0;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="utils_8h.html#a6cd637b285f4d4844912affebb05dff4">str_validate_len</a>(path, 128)) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordtype">int</span> name_len = <a class="code" href="utils_8h.html#adb355892c2a2bf574f79bd8a4979183c">strlen</a>(path);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    kpath = <a class="code" href="mem_8h.html#a93e0348b66827f7b9a4ebae1b7394141">kmem_bring_to_kernel</a>(path, name_len + 1);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// dentry_t* dir;</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// if (vfs_resolve_path_start_from(p-&gt;cwd, &amp;dir) &lt; 0) {</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">//     return_with_val(-ENOENT);</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// }</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="ext2_8h.html#af456ddc19314d0bde5426f9027e96b05">mode_t</a> dir_mode = <a class="code" href="ext2_8h.html#a11fb0652b963a735f3377eb1c9239f2d">S_IFDIR</a> | <a class="code" href="ext2_8h.html#a84c7dbf5cf2fdfb690f76348b60a8cb7">S_IRUSR</a> | <a class="code" href="ext2_8h.html#ad70001754261c15a1bdc8e876c6d09d7">S_IWUSR</a> | <a class="code" href="ext2_8h.html#af10a35e3950795d6ee4e07157d000131">S_IXUSR</a> | <a class="code" href="ext2_8h.html#a4f5f280b929768113739fb34d6f7be8a">S_IRGRP</a> | <a class="code" href="ext2_8h.html#a042e69ac0e7dd56e5cfcd9e97d010323">S_IXGRP</a> | <a class="code" href="ext2_8h.html#a071147a0cb995036967c80f64b1f74b9">S_IROTH</a> | <a class="code" href="ext2_8h.html#a40223db1b95a04f5b28cceb3c34cfebd">S_IXOTH</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">int</span> res = <a class="code" href="vfs_8h.html#a18e48a0ecac1202889cb0cdba997fb60">vfs_mkdir</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>-&gt;cwd, kpath, name_len, dir_mode);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="kmalloc_8h.html#a069f85a5001d71bc44d8be6532a4e432">kfree</a>(kpath);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(res);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
<div class="ttc" id="aext2_8h_html_a042e69ac0e7dd56e5cfcd9e97d010323"><div class="ttname"><a href="ext2_8h.html#a042e69ac0e7dd56e5cfcd9e97d010323">S_IXGRP</a></div><div class="ttdeci">#define S_IXGRP</div><div class="ttdef"><b>Definition:</b> <a href="ext2_8h_source.html#l00082">ext2.h:82</a></div></div>
<div class="ttc" id="aext2_8h_html_a071147a0cb995036967c80f64b1f74b9"><div class="ttname"><a href="ext2_8h.html#a071147a0cb995036967c80f64b1f74b9">S_IROTH</a></div><div class="ttdeci">#define S_IROTH</div><div class="ttdef"><b>Definition:</b> <a href="ext2_8h_source.html#l00083">ext2.h:83</a></div></div>
<div class="ttc" id="aext2_8h_html_a11fb0652b963a735f3377eb1c9239f2d"><div class="ttname"><a href="ext2_8h.html#a11fb0652b963a735f3377eb1c9239f2d">S_IFDIR</a></div><div class="ttdeci">#define S_IFDIR</div><div class="ttdef"><b>Definition:</b> <a href="ext2_8h_source.html#l00069">ext2.h:69</a></div></div>
<div class="ttc" id="aext2_8h_html_a40223db1b95a04f5b28cceb3c34cfebd"><div class="ttname"><a href="ext2_8h.html#a40223db1b95a04f5b28cceb3c34cfebd">S_IXOTH</a></div><div class="ttdeci">#define S_IXOTH</div><div class="ttdef"><b>Definition:</b> <a href="ext2_8h_source.html#l00085">ext2.h:85</a></div></div>
<div class="ttc" id="aext2_8h_html_a4f5f280b929768113739fb34d6f7be8a"><div class="ttname"><a href="ext2_8h.html#a4f5f280b929768113739fb34d6f7be8a">S_IRGRP</a></div><div class="ttdeci">#define S_IRGRP</div><div class="ttdef"><b>Definition:</b> <a href="ext2_8h_source.html#l00080">ext2.h:80</a></div></div>
<div class="ttc" id="aext2_8h_html_a84c7dbf5cf2fdfb690f76348b60a8cb7"><div class="ttname"><a href="ext2_8h.html#a84c7dbf5cf2fdfb690f76348b60a8cb7">S_IRUSR</a></div><div class="ttdeci">#define S_IRUSR</div><div class="ttdef"><b>Definition:</b> <a href="ext2_8h_source.html#l00077">ext2.h:77</a></div></div>
<div class="ttc" id="aext2_8h_html_ad70001754261c15a1bdc8e876c6d09d7"><div class="ttname"><a href="ext2_8h.html#ad70001754261c15a1bdc8e876c6d09d7">S_IWUSR</a></div><div class="ttdeci">#define S_IWUSR</div><div class="ttdef"><b>Definition:</b> <a href="ext2_8h_source.html#l00078">ext2.h:78</a></div></div>
<div class="ttc" id="aext2_8h_html_af10a35e3950795d6ee4e07157d000131"><div class="ttname"><a href="ext2_8h.html#af10a35e3950795d6ee4e07157d000131">S_IXUSR</a></div><div class="ttdeci">#define S_IXUSR</div><div class="ttdef"><b>Definition:</b> <a href="ext2_8h_source.html#l00079">ext2.h:79</a></div></div>
<div class="ttc" id="akmalloc_8h_html_a069f85a5001d71bc44d8be6532a4e432"><div class="ttname"><a href="kmalloc_8h.html#a069f85a5001d71bc44d8be6532a4e432">kfree</a></div><div class="ttdeci">void kfree(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="kmalloc_8c_source.html#l00087">kmalloc.c:87</a></div></div>
<div class="ttc" id="avfs_8h_html_a18e48a0ecac1202889cb0cdba997fb60"><div class="ttname"><a href="vfs_8h.html#a18e48a0ecac1202889cb0cdba997fb60">vfs_mkdir</a></div><div class="ttdeci">int vfs_mkdir(dentry_t *dir, const char *name, uint32_t len, mode_t mode)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8c_source.html#l00324">vfs.c:324</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="include_2errno_8h_source.html#l00025">EINVAL</a>, <a class="el" href="kmalloc_8c_source.html#l00087">kfree()</a>, <a class="el" href="mem_8c_source.html#l00055">kmem_bring_to_kernel()</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="ext2_8h_source.html#l00069">S_IFDIR</a>, <a class="el" href="ext2_8h_source.html#l00080">S_IRGRP</a>, <a class="el" href="ext2_8h_source.html#l00083">S_IROTH</a>, <a class="el" href="ext2_8h_source.html#l00077">S_IRUSR</a>, <a class="el" href="ext2_8h_source.html#l00078">S_IWUSR</a>, <a class="el" href="ext2_8h_source.html#l00082">S_IXGRP</a>, <a class="el" href="ext2_8h_source.html#l00085">S_IXOTH</a>, <a class="el" href="ext2_8h_source.html#l00079">S_IXUSR</a>, <a class="el" href="utils_8c_source.html#l00108">str_validate_len()</a>, <a class="el" href="string_8c_source.html#l00053">strlen()</a>, and <a class="el" href="vfs_8c_source.html#l00324">vfs_mkdir()</a>.</p>

</div>
</div>
<a id="a7a705ffa5441da932f3bbb9ab3f9e006"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a705ffa5441da932f3bbb9ab3f9e006">&#9670;&nbsp;</a></span>sys_mmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_mmap </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MEMORY SYSCALLS </p>

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00493">493</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;{</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="structmmap__params.html">mmap_params_t</a>* params = (<a class="code" href="structmmap__params.html">mmap_params_t</a>*)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordtype">bool</span> map_shared = ((params-&gt;<a class="code" href="structmmap__params.html#a67d5dde5b37fc2434358bf07bd670cd8">flags</a> &amp; <a class="code" href="syscall__structs_8h.html#a57028962c2a7c0c802ca6613492f2ef3">MAP_SHARED</a>) &gt; 0);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordtype">bool</span> map_anonymous = ((params-&gt;<a class="code" href="structmmap__params.html#a67d5dde5b37fc2434358bf07bd670cd8">flags</a> &amp; <a class="code" href="syscall__structs_8h.html#ae4f86bff73414c5fc08c058f957212f0">MAP_ANONYMOUS</a>) &gt; 0);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordtype">bool</span> map_private = ((params-&gt;<a class="code" href="structmmap__params.html#a67d5dde5b37fc2434358bf07bd670cd8">flags</a> &amp; <a class="code" href="syscall__structs_8h.html#a398ef47a991a44389aa9818c98a28d24">MAP_PRIVATE</a>) &gt; 0);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordtype">bool</span> map_stack = ((params-&gt;<a class="code" href="structmmap__params.html#a67d5dde5b37fc2434358bf07bd670cd8">flags</a> &amp; <a class="code" href="syscall__structs_8h.html#a06c706c6cc07f13a3d0e1252e923ec69">MAP_STACK</a>) &gt; 0);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordtype">bool</span> map_fixed = ((params-&gt;<a class="code" href="structmmap__params.html#a67d5dde5b37fc2434358bf07bd670cd8">flags</a> &amp; <a class="code" href="syscall__structs_8h.html#a387ec707b30c5e78cf20a14517a63b96">MAP_FIXED</a>) &gt; 0);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordtype">bool</span> map_exec = ((params-&gt;<a class="code" href="structmmap__params.html#a799e974f2ba62b39c211afda269f47af">prot</a> &amp; <a class="code" href="syscall__structs_8h.html#a77848f068638e916c72cd543f5ecb815">PROT_EXEC</a>) &gt; 0);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordtype">bool</span> map_read = ((params-&gt;<a class="code" href="structmmap__params.html#a799e974f2ba62b39c211afda269f47af">prot</a> &amp; <a class="code" href="syscall__structs_8h.html#a15bf68ce8b590838b3a5c0b639d8d519">PROT_READ</a>) &gt; 0);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordtype">bool</span> map_write = ((params-&gt;<a class="code" href="structmmap__params.html#a799e974f2ba62b39c211afda269f47af">prot</a> &amp; <a class="code" href="syscall__structs_8h.html#a2a79c8ceefb8fc25a940ae07a3d94429">PROT_WRITE</a>) &gt; 0);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="structproc__zone.html">proc_zone_t</a>* zone;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">if</span> (map_private &amp;&amp; map_shared) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">if</span> (!map_private &amp;&amp; !map_shared) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (map_stack) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        zone = <a class="code" href="proc_8h.html#aefa34a7945cb45abd602db8986b73571">proc_new_random_zone_backward</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, params-&gt;<a class="code" href="structmmap__params.html#a2704270363a51b83bdc204b117c0bdc0">size</a>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (map_anonymous) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        zone = <a class="code" href="proc_8h.html#afde15f1d2593b83a7db82d1ebc38db2d">proc_new_random_zone</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, params-&gt;<a class="code" href="structmmap__params.html#a2704270363a51b83bdc204b117c0bdc0">size</a>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd = <a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, params-&gt;<a class="code" href="structmmap__params.html#a131f240dc6cc933fd8581e6e3775d01a">fd</a>);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="comment">/* TODO: Check for read access to the file */</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">if</span> (!fd) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#ae9284c9860c0064da7dd8cba12c1f90f">EBADFD</a>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        zone = <a class="code" href="vfs_8h.html#a98899186a8c92292ef1b05f035d80a33">vfs_mmap</a>(fd, params);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (!zone) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a6a05c923dad0c1208043e9c20a58c8e5">ENOMEM</a>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">if</span> (map_read) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        zone-&gt;<a class="code" href="structproc__zone.html#a3501ea528702334625a5356e54b0db7f">flags</a> |= <a class="code" href="proc_8h.html#a584435e4f8819030fbe0e07bb1e02b2ca2eb4938381e27899cd1f2a293dd772a9">ZONE_READABLE</a>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">if</span> (map_write) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        zone-&gt;<a class="code" href="structproc__zone.html#a3501ea528702334625a5356e54b0db7f">flags</a> |= <a class="code" href="proc_8h.html#a584435e4f8819030fbe0e07bb1e02b2ca325703bdd28e063ffa58eb75d2070ba6">ZONE_WRITABLE</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">if</span> (map_exec) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        zone-&gt;<a class="code" href="structproc__zone.html#a3501ea528702334625a5356e54b0db7f">flags</a> |= <a class="code" href="proc_8h.html#a584435e4f8819030fbe0e07bb1e02b2ca965cd881ca445fd431d9b35d3e68adb4">ZONE_EXECUTABLE</a>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(zone-&gt;<a class="code" href="structproc__zone.html#a70a87d8b8e6e888cfc346bd56dd9bce5">start</a>);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
<div class="ttc" id="ainclude_2errno_8h_html_a6a05c923dad0c1208043e9c20a58c8e5"><div class="ttname"><a href="include_2errno_8h.html#a6a05c923dad0c1208043e9c20a58c8e5">ENOMEM</a></div><div class="ttdeci">#define ENOMEM</div><div class="ttdef"><b>Definition:</b> <a href="include_2errno_8h_source.html#l00015">errno.h:15</a></div></div>
<div class="ttc" id="ainclude_2errno_8h_html_ae9284c9860c0064da7dd8cba12c1f90f"><div class="ttname"><a href="include_2errno_8h.html#ae9284c9860c0064da7dd8cba12c1f90f">EBADFD</a></div><div class="ttdeci">#define EBADFD</div><div class="ttdef"><b>Definition:</b> <a href="include_2errno_8h_source.html#l00082">errno.h:82</a></div></div>
<div class="ttc" id="aproc_8h_html_a584435e4f8819030fbe0e07bb1e02b2ca2eb4938381e27899cd1f2a293dd772a9"><div class="ttname"><a href="proc_8h.html#a584435e4f8819030fbe0e07bb1e02b2ca2eb4938381e27899cd1f2a293dd772a9">ZONE_READABLE</a></div><div class="ttdeci">@ ZONE_READABLE</div><div class="ttdef"><b>Definition:</b> <a href="proc_8h_source.html#l00026">proc.h:26</a></div></div>
<div class="ttc" id="aproc_8h_html_a584435e4f8819030fbe0e07bb1e02b2ca325703bdd28e063ffa58eb75d2070ba6"><div class="ttname"><a href="proc_8h.html#a584435e4f8819030fbe0e07bb1e02b2ca325703bdd28e063ffa58eb75d2070ba6">ZONE_WRITABLE</a></div><div class="ttdeci">@ ZONE_WRITABLE</div><div class="ttdef"><b>Definition:</b> <a href="proc_8h_source.html#l00025">proc.h:25</a></div></div>
<div class="ttc" id="aproc_8h_html_a584435e4f8819030fbe0e07bb1e02b2ca965cd881ca445fd431d9b35d3e68adb4"><div class="ttname"><a href="proc_8h.html#a584435e4f8819030fbe0e07bb1e02b2ca965cd881ca445fd431d9b35d3e68adb4">ZONE_EXECUTABLE</a></div><div class="ttdeci">@ ZONE_EXECUTABLE</div><div class="ttdef"><b>Definition:</b> <a href="proc_8h_source.html#l00027">proc.h:27</a></div></div>
<div class="ttc" id="aproc_8h_html_aefa34a7945cb45abd602db8986b73571"><div class="ttname"><a href="proc_8h.html#aefa34a7945cb45abd602db8986b73571">proc_new_random_zone_backward</a></div><div class="ttdeci">proc_zone_t * proc_new_random_zone_backward(proc_t *p, uint32_t len)</div><div class="ttdef"><b>Definition:</b> <a href="proc__zoner_8c_source.html#l00095">proc_zoner.c:95</a></div></div>
<div class="ttc" id="aproc_8h_html_afde15f1d2593b83a7db82d1ebc38db2d"><div class="ttname"><a href="proc_8h.html#afde15f1d2593b83a7db82d1ebc38db2d">proc_new_random_zone</a></div><div class="ttdeci">proc_zone_t * proc_new_random_zone(proc_t *p, uint32_t len)</div><div class="ttdef"><b>Definition:</b> <a href="proc__zoner_8c_source.html#l00062">proc_zoner.c:62</a></div></div>
<div class="ttc" id="astructmmap__params_html"><div class="ttname"><a href="structmmap__params.html">mmap_params</a></div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00076">syscall_structs.h:76</a></div></div>
<div class="ttc" id="astructmmap__params_html_a131f240dc6cc933fd8581e6e3775d01a"><div class="ttname"><a href="structmmap__params.html#a131f240dc6cc933fd8581e6e3775d01a">mmap_params::fd</a></div><div class="ttdeci">uint32_t fd</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00082">syscall_structs.h:82</a></div></div>
<div class="ttc" id="astructmmap__params_html_a2704270363a51b83bdc204b117c0bdc0"><div class="ttname"><a href="structmmap__params.html#a2704270363a51b83bdc204b117c0bdc0">mmap_params::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00078">syscall_structs.h:78</a></div></div>
<div class="ttc" id="astructmmap__params_html_a67d5dde5b37fc2434358bf07bd670cd8"><div class="ttname"><a href="structmmap__params.html#a67d5dde5b37fc2434358bf07bd670cd8">mmap_params::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00081">syscall_structs.h:81</a></div></div>
<div class="ttc" id="astructmmap__params_html_a799e974f2ba62b39c211afda269f47af"><div class="ttname"><a href="structmmap__params.html#a799e974f2ba62b39c211afda269f47af">mmap_params::prot</a></div><div class="ttdeci">uint32_t prot</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00080">syscall_structs.h:80</a></div></div>
<div class="ttc" id="astructproc__zone_html"><div class="ttname"><a href="structproc__zone.html">proc_zone</a></div><div class="ttdef"><b>Definition:</b> <a href="proc_8h_source.html#l00041">proc.h:41</a></div></div>
<div class="ttc" id="astructproc__zone_html_a3501ea528702334625a5356e54b0db7f"><div class="ttname"><a href="structproc__zone.html#a3501ea528702334625a5356e54b0db7f">proc_zone::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="proc_8h_source.html#l00045">proc.h:45</a></div></div>
<div class="ttc" id="astructproc__zone_html_a70a87d8b8e6e888cfc346bd56dd9bce5"><div class="ttname"><a href="structproc__zone.html#a70a87d8b8e6e888cfc346bd56dd9bce5">proc_zone::start</a></div><div class="ttdeci">uint32_t start</div><div class="ttdef"><b>Definition:</b> <a href="proc_8h_source.html#l00042">proc.h:42</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a06c706c6cc07f13a3d0e1252e923ec69"><div class="ttname"><a href="syscall__structs_8h.html#a06c706c6cc07f13a3d0e1252e923ec69">MAP_STACK</a></div><div class="ttdeci">#define MAP_STACK</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00069">syscall_structs.h:69</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a15bf68ce8b590838b3a5c0b639d8d519"><div class="ttname"><a href="syscall__structs_8h.html#a15bf68ce8b590838b3a5c0b639d8d519">PROT_READ</a></div><div class="ttdeci">#define PROT_READ</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00071">syscall_structs.h:71</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a2a79c8ceefb8fc25a940ae07a3d94429"><div class="ttname"><a href="syscall__structs_8h.html#a2a79c8ceefb8fc25a940ae07a3d94429">PROT_WRITE</a></div><div class="ttdeci">#define PROT_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00072">syscall_structs.h:72</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a387ec707b30c5e78cf20a14517a63b96"><div class="ttname"><a href="syscall__structs_8h.html#a387ec707b30c5e78cf20a14517a63b96">MAP_FIXED</a></div><div class="ttdeci">#define MAP_FIXED</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00067">syscall_structs.h:67</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a398ef47a991a44389aa9818c98a28d24"><div class="ttname"><a href="syscall__structs_8h.html#a398ef47a991a44389aa9818c98a28d24">MAP_PRIVATE</a></div><div class="ttdeci">#define MAP_PRIVATE</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00066">syscall_structs.h:66</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a57028962c2a7c0c802ca6613492f2ef3"><div class="ttname"><a href="syscall__structs_8h.html#a57028962c2a7c0c802ca6613492f2ef3">MAP_SHARED</a></div><div class="ttdeci">#define MAP_SHARED</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00065">syscall_structs.h:65</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a77848f068638e916c72cd543f5ecb815"><div class="ttname"><a href="syscall__structs_8h.html#a77848f068638e916c72cd543f5ecb815">PROT_EXEC</a></div><div class="ttdeci">#define PROT_EXEC</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00073">syscall_structs.h:73</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_ae4f86bff73414c5fc08c058f957212f0"><div class="ttname"><a href="syscall__structs_8h.html#ae4f86bff73414c5fc08c058f957212f0">MAP_ANONYMOUS</a></div><div class="ttdeci">#define MAP_ANONYMOUS</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00068">syscall_structs.h:68</a></div></div>
<div class="ttc" id="avfs_8h_html_a98899186a8c92292ef1b05f035d80a33"><div class="ttname"><a href="vfs_8h.html#a98899186a8c92292ef1b05f035d80a33">vfs_mmap</a></div><div class="ttdeci">struct proc_zone * vfs_mmap(file_descriptor_t *fd, mmap_params_t *params)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8c_source.html#l00501">vfs.c:501</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="include_2errno_8h_source.html#l00082">EBADFD</a>, <a class="el" href="include_2errno_8h_source.html#l00025">EINVAL</a>, <a class="el" href="include_2errno_8h_source.html#l00015">ENOMEM</a>, <a class="el" href="syscall__structs_8h_source.html#l00082">mmap_params::fd</a>, <a class="el" href="syscall__structs_8h_source.html#l00081">mmap_params::flags</a>, <a class="el" href="proc_8h_source.html#l00045">proc_zone::flags</a>, <a class="el" href="syscall__structs_8h_source.html#l00068">MAP_ANONYMOUS</a>, <a class="el" href="syscall__structs_8h_source.html#l00067">MAP_FIXED</a>, <a class="el" href="syscall__structs_8h_source.html#l00066">MAP_PRIVATE</a>, <a class="el" href="syscall__structs_8h_source.html#l00065">MAP_SHARED</a>, <a class="el" href="syscall__structs_8h_source.html#l00069">MAP_STACK</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="proc_8c_source.html#l00367">proc_get_fd()</a>, <a class="el" href="proc__zoner_8c_source.html#l00062">proc_new_random_zone()</a>, <a class="el" href="proc__zoner_8c_source.html#l00095">proc_new_random_zone_backward()</a>, <a class="el" href="syscall__structs_8h_source.html#l00080">mmap_params::prot</a>, <a class="el" href="syscall__structs_8h_source.html#l00073">PROT_EXEC</a>, <a class="el" href="syscall__structs_8h_source.html#l00071">PROT_READ</a>, <a class="el" href="syscall__structs_8h_source.html#l00072">PROT_WRITE</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="syscall__structs_8h_source.html#l00078">mmap_params::size</a>, <a class="el" href="proc_8h_source.html#l00042">proc_zone::start</a>, <a class="el" href="vfs_8c_source.html#l00501">vfs_mmap()</a>, <a class="el" href="proc_8h_source.html#l00027">ZONE_EXECUTABLE</a>, <a class="el" href="proc_8h_source.html#l00026">ZONE_READABLE</a>, and <a class="el" href="proc_8h_source.html#l00025">ZONE_WRITABLE</a>.</p>

</div>
</div>
<a id="a6fae867d2466a90ca974013354df098c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fae867d2466a90ca974013354df098c">&#9670;&nbsp;</a></span>sys_munmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_munmap </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00547">547</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;{</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a44d6289266af54a18adf56221359a79b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44d6289266af54a18adf56221359a79b">&#9670;&nbsp;</a></span>sys_none()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_none </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00660">660</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{ }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9423154a65c8dd332e656368e2e82c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9423154a65c8dd332e656368e2e82c3a">&#9670;&nbsp;</a></span>sys_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_open </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>FS SYSCALLS </p>

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00111">111</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd = <a class="code" href="proc_8h.html#ada44023105fdc0405fbf4f2e0444b2e3">proc_get_free_fd</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* path = (<span class="keywordtype">char</span>*)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordtype">char</span>* kpath = 0;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="utils_8h.html#a6cd637b285f4d4844912affebb05dff4">str_validate_len</a>(path, 128)) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordtype">int</span> name_len = <a class="code" href="utils_8h.html#adb355892c2a2bf574f79bd8a4979183c">strlen</a>(path);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    kpath = <a class="code" href="mem_8h.html#a93e0348b66827f7b9a4ebae1b7394141">kmem_bring_to_kernel</a>(path, name_len + 1);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> flags = <a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="ext2_8h.html#af456ddc19314d0bde5426f9027e96b05">mode_t</a> <a class="code" href="edit_2main_8c.html#a6b29e4f37f4482274af785ad5ffe96a7">mode</a> = <a class="code" href="ext2_8h.html#a1aaa48b192a5dd3b6d7ee91fc98cd17d">S_IFREG</a> | <a class="code" href="syscall__structs_8h.html#afe3da42e762f6362c93454682fad5eb5">S_IRWXU</a> | <a class="code" href="syscall__structs_8h.html#a230c642d2bb81f15f85c122b1883de5c">S_IRWXG</a> | <a class="code" href="syscall__structs_8h.html#a5b93e0da7fe32bbd4926626bffad96b1">S_IRWXO</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="structdentry.html">dentry_t</a>* file;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (flags &amp; <a class="code" href="syscall__structs_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <a class="code" href="vfs_8h.html#ac2f30f7d4e37ee3e72e8aaae8221ba41">vfs_create</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>-&gt;cwd, kpath, name_len, <a class="code" href="edit_2main_8c.html#a6b29e4f37f4482274af785ad5ffe96a7">mode</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vfs_8h.html#a7b678a2a5a34506cb2c3dd1162d24c47">vfs_resolve_path_start_from</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>-&gt;cwd, kpath, &amp;file) &lt; 0) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">int</span> res = <a class="code" href="vfs_8h.html#afa33bbda28caa00fc7d0ea9eabecda1d">vfs_open</a>(file, fd, <a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="vfs_8h.html#a7b69e608ff6502aa7604cb61d1e85d3e">dentry_put</a>(file);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (!res) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="proc_8h.html#a80e15e3a633b0636cc3fc72a58d6b458">proc_get_fd_id</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, fd));</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(res);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="ttc" id="aext2_8h_html_a1aaa48b192a5dd3b6d7ee91fc98cd17d"><div class="ttname"><a href="ext2_8h.html#a1aaa48b192a5dd3b6d7ee91fc98cd17d">S_IFREG</a></div><div class="ttdeci">#define S_IFREG</div><div class="ttdef"><b>Definition:</b> <a href="ext2_8h_source.html#l00067">ext2.h:67</a></div></div>
<div class="ttc" id="ainclude_2errno_8h_html_a03e689f378f643d16ea7537918528a48"><div class="ttname"><a href="include_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a></div><div class="ttdeci">#define ENOENT</div><div class="ttdef"><b>Definition:</b> <a href="include_2errno_8h_source.html#l00005">errno.h:5</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a230c642d2bb81f15f85c122b1883de5c"><div class="ttname"><a href="syscall__structs_8h.html#a230c642d2bb81f15f85c122b1883de5c">S_IRWXG</a></div><div class="ttdeci">#define S_IRWXG</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00123">syscall_structs.h:123</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a5b93e0da7fe32bbd4926626bffad96b1"><div class="ttname"><a href="syscall__structs_8h.html#a5b93e0da7fe32bbd4926626bffad96b1">S_IRWXO</a></div><div class="ttdeci">#define S_IRWXO</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00128">syscall_structs.h:128</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_ab40a23079c3b9a7e25ffdc8108c7fb02"><div class="ttname"><a href="syscall__structs_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a></div><div class="ttdeci">#define O_CREATE</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00100">syscall_structs.h:100</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_afe3da42e762f6362c93454682fad5eb5"><div class="ttname"><a href="syscall__structs_8h.html#afe3da42e762f6362c93454682fad5eb5">S_IRWXU</a></div><div class="ttdeci">#define S_IRWXU</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00118">syscall_structs.h:118</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dentry_8c_source.html#l00301">dentry_put()</a>, <a class="el" href="include_2errno_8h_source.html#l00025">EINVAL</a>, <a class="el" href="include_2errno_8h_source.html#l00005">ENOENT</a>, <a class="el" href="mem_8c_source.html#l00055">kmem_bring_to_kernel()</a>, <a class="el" href="edit_2main_8c_source.html#l00018">mode</a>, <a class="el" href="syscall__structs_8h_source.html#l00100">O_CREATE</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="proc_8c_source.html#l00340">proc_get_fd_id()</a>, <a class="el" href="proc_8c_source.html#l00354">proc_get_free_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="ext2_8h_source.html#l00067">S_IFREG</a>, <a class="el" href="syscall__structs_8h_source.html#l00123">S_IRWXG</a>, <a class="el" href="syscall__structs_8h_source.html#l00128">S_IRWXO</a>, <a class="el" href="syscall__structs_8h_source.html#l00118">S_IRWXU</a>, <a class="el" href="utils_8c_source.html#l00108">str_validate_len()</a>, <a class="el" href="string_8c_source.html#l00053">strlen()</a>, <a class="el" href="vfs_8c_source.html#l00220">vfs_create()</a>, <a class="el" href="vfs_8c_source.html#l00163">vfs_open()</a>, and <a class="el" href="vfs_8c_source.html#l00358">vfs_resolve_path_start_from()</a>.</p>

</div>
</div>
<a id="a94f9d64fc865f56befef0c2bced2346c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f9d64fc865f56befef0c2bced2346c">&#9670;&nbsp;</a></span>sys_raise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_raise </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00420">420</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="tasking_8h.html#a31288ddc7b85defceaf467ac9bb6884b">signal_set_pending</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>, (<span class="keywordtype">int</span>)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="tasking_8h.html#a62631d6ca85e0094df59808503427936">signal_dispatch_pending</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div>
<div class="ttc" id="atasking_8h_html_a31288ddc7b85defceaf467ac9bb6884b"><div class="ttname"><a href="tasking_8h.html#a31288ddc7b85defceaf467ac9bb6884b">signal_set_pending</a></div><div class="ttdeci">int signal_set_pending(thread_t *thread, int signo)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00104">signal.c:104</a></div></div>
<div class="ttc" id="atasking_8h_html_a62631d6ca85e0094df59808503427936"><div class="ttname"><a href="tasking_8h.html#a62631d6ca85e0094df59808503427936">signal_dispatch_pending</a></div><div class="ttdeci">int signal_dispatch_pending(thread_t *thread)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00257">signal.c:257</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="signal_8c_source.html#l00257">signal_dispatch_pending()</a>, and <a class="el" href="signal_8c_source.html#l00104">signal_set_pending()</a>.</p>

</div>
</div>
<a id="a06e5448ed4de3522685b41aa6801c30b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06e5448ed4de3522685b41aa6801c30b">&#9670;&nbsp;</a></span>sys_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_read </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00153">153</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd = <a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process, (<span class="keywordtype">int</span>)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (!fd) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="thread_8h.html#a782935f02d028cde399c32375bb5e56f">init_read_blocker</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>, fd);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordtype">int</span> res = <a class="code" href="vfs_8h.html#ae4bfac60e58e9b1f2ab2a8119d485b56">vfs_read</a>(fd, (<a class="code" href="syscall__structs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)<a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>, (<a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code" href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(res);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="ttc" id="athread_8h_html_a782935f02d028cde399c32375bb5e56f"><div class="ttname"><a href="thread_8h.html#a782935f02d028cde399c32375bb5e56f">init_read_blocker</a></div><div class="ttdeci">int init_read_blocker(thread_t *p, file_descriptor_t *bfd)</div><div class="ttdef"><b>Definition:</b> <a href="blocker_8c_source.html#l00039">blocker.c:39</a></div></div>
<div class="ttc" id="avfs_8h_html_ae4bfac60e58e9b1f2ab2a8119d485b56"><div class="ttname"><a href="vfs_8h.html#ae4bfac60e58e9b1f2ab2a8119d485b56">vfs_read</a></div><div class="ttdeci">int vfs_read(file_descriptor_t *fd, uint8_t *buf, uint32_t len)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8c_source.html#l00299">vfs.c:299</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="include_2errno_8h_source.html#l00012">EBADF</a>, <a class="el" href="blocker_8c_source.html#l00039">init_read_blocker()</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00021">param3</a>, <a class="el" href="proc_8c_source.html#l00367">proc_get_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, and <a class="el" href="vfs_8c_source.html#l00299">vfs_read()</a>.</p>

</div>
</div>
<a id="a6ce0c1e2a3e14ef013f1e3a0e800e37c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ce0c1e2a3e14ef013f1e3a0e800e37c">&#9670;&nbsp;</a></span>sys_restart_syscall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_restart_syscall </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00102">102</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="include_2drivers_2x86_2display_8h.html#a6df6c7a5602c267f435ee34ee591b192">kprintd</a>(tf-&gt;ebx);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="ttc" id="ainclude_2drivers_2x86_2display_8h_html_a6df6c7a5602c267f435ee34ee591b192"><div class="ttname"><a href="include_2drivers_2x86_2display_8h.html#a6df6c7a5602c267f435ee34ee591b192">kprintd</a></div><div class="ttdeci">void kprintd(uint32_t dec)</div><div class="ttdef"><b>Definition:</b> <a href="kernel_2drivers_2x86_2display_8c_source.html#l00130">display.c:130</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="kernel_2drivers_2x86_2display_8c_source.html#l00130">kprintd()</a>.</p>

</div>
</div>
<a id="a3c445ea8ecb991dce5bdb75758a7ae00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c445ea8ecb991dce5bdb75758a7ae00">&#9670;&nbsp;</a></span>sys_rmdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_rmdir </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00300">300</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;{</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* path = (<span class="keywordtype">char</span>*)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">char</span>* kpath = 0;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="utils_8h.html#a6cd637b285f4d4844912affebb05dff4">str_validate_len</a>(path, 128)) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">int</span> name_len = <a class="code" href="utils_8h.html#adb355892c2a2bf574f79bd8a4979183c">strlen</a>(path);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    kpath = <a class="code" href="mem_8h.html#a93e0348b66827f7b9a4ebae1b7394141">kmem_bring_to_kernel</a>(path, name_len + 1);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="structdentry.html">dentry_t</a>* dir;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vfs_8h.html#a7b678a2a5a34506cb2c3dd1162d24c47">vfs_resolve_path_start_from</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>-&gt;cwd, kpath, &amp;dir) &lt; 0) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordtype">int</span> res = <a class="code" href="vfs_8h.html#a41c9b89bc5e586e640e8d6fcb5d5cfbe">vfs_rmdir</a>(dir);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="vfs_8h.html#a7b69e608ff6502aa7604cb61d1e85d3e">dentry_put</a>(dir);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="kmalloc_8h.html#a069f85a5001d71bc44d8be6532a4e432">kfree</a>(kpath);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(res);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="ttc" id="avfs_8h_html_a41c9b89bc5e586e640e8d6fcb5d5cfbe"><div class="ttname"><a href="vfs_8h.html#a41c9b89bc5e586e640e8d6fcb5d5cfbe">vfs_rmdir</a></div><div class="ttdeci">int vfs_rmdir(dentry_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8c_source.html#l00332">vfs.c:332</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dentry_8c_source.html#l00301">dentry_put()</a>, <a class="el" href="include_2errno_8h_source.html#l00025">EINVAL</a>, <a class="el" href="include_2errno_8h_source.html#l00005">ENOENT</a>, <a class="el" href="kmalloc_8c_source.html#l00087">kfree()</a>, <a class="el" href="mem_8c_source.html#l00055">kmem_bring_to_kernel()</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="utils_8c_source.html#l00108">str_validate_len()</a>, <a class="el" href="string_8c_source.html#l00053">strlen()</a>, <a class="el" href="vfs_8c_source.html#l00358">vfs_resolve_path_start_from()</a>, and <a class="el" href="vfs_8c_source.html#l00332">vfs_rmdir()</a>.</p>

</div>
</div>
<a id="a6f2531ed96dae3790adca28e479c9af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f2531ed96dae3790adca28e479c9af3">&#9670;&nbsp;</a></span>sys_sched_yield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_sched_yield </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scheduler </p>

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00655">655</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;{</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="sched_8h.html#a07e287feb3654c39cbb13ce4518aa9d8">resched</a>();</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div>
<div class="ttc" id="asched_8h_html_a07e287feb3654c39cbb13ce4518aa9d8"><div class="ttname"><a href="sched_8h.html#a07e287feb3654c39cbb13ce4518aa9d8">resched</a></div><div class="ttdeci">void resched()</div><div class="ttdef"><b>Definition:</b> <a href="sched_8c_source.html#l00116">sched.c:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sched_8c_source.html#l00116">resched()</a>.</p>

</div>
</div>
<a id="ae79c56b44dea2b1986e720820cf59305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae79c56b44dea2b1986e720820cf59305">&#9670;&nbsp;</a></span>sys_select()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_select </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00337">337</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordtype">int</span> nfds = <a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="structfd__set.html">fd_set_t</a>* readfds = (<a class="code" href="structfd__set.html">fd_set_t</a>*)<a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="structfd__set.html">fd_set_t</a>* writefds = (<a class="code" href="structfd__set.html">fd_set_t</a>*)<a class="code" href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="structfd__set.html">fd_set_t</a>* exceptfds = (<a class="code" href="structfd__set.html">fd_set_t</a>*)<a class="code" href="sys__handler_8c.html#a1a1b8cae7d84b6f1b3fc1a49a7a7b144">param4</a>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="structtimeval.html">timeval_t</a>* timeout = (<a class="code" href="structtimeval.html">timeval_t</a>*)<a class="code" href="sys__handler_8c.html#a10d3beceafcc21f4edc6799b1bec52e5">param5</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">if</span> (nfds &lt; 0 || nfds &gt; <a class="code" href="syscall__structs_8h.html#a86c5dbf5a99358e288f573d6a1e0873f">FD_SETSIZE</a>) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nfds; i++) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="syscall__structs_8h.html#a9f4bc3f7f984c2560139f1960a28b384">FD_ISSET</a>(i, readfds) || <a class="code" href="syscall__structs_8h.html#a9f4bc3f7f984c2560139f1960a28b384">FD_ISSET</a>(i, writefds) || <a class="code" href="syscall__structs_8h.html#a9f4bc3f7f984c2560139f1960a28b384">FD_ISSET</a>(i, exceptfds)) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, i)) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="thread_8h.html#a3282a38976308cc24432d173bd8c78e7">init_select_blocker</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>, nfds, readfds, writefds, exceptfds, timeout);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span> (readfds)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="syscall__structs_8h.html#a91b51414d5d9f2a88c0f38ff4f6f9647">FD_ZERO</a>(readfds);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> (writefds)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <a class="code" href="syscall__structs_8h.html#a91b51414d5d9f2a88c0f38ff4f6f9647">FD_ZERO</a>(writefds);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (exceptfds)</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="syscall__structs_8h.html#a91b51414d5d9f2a88c0f38ff4f6f9647">FD_ZERO</a>(exceptfds);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nfds; i++) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        fd = <a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, i);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">if</span> (readfds &amp;&amp; <a class="code" href="syscall__structs_8h.html#a9f4bc3f7f984c2560139f1960a28b384">FD_ISSET</a>(i, &amp;(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;readfds))) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">if</span> (fd-&gt;<a class="code" href="structfile__descriptor.html#ae7ef2b98078229362a4fc2adf7ef8aa7">ops</a>-&gt;<a class="code" href="structfile__ops.html#a3b7eb74f935c9bd0c61c3466944bf0be">can_read</a> &amp;&amp; fd-&gt;<a class="code" href="structfile__descriptor.html#ae7ef2b98078229362a4fc2adf7ef8aa7">ops</a>-&gt;<a class="code" href="structfile__ops.html#a3b7eb74f935c9bd0c61c3466944bf0be">can_read</a>(fd-&gt;<a class="code" href="structfile__descriptor.html#aada780efbd33bc5aea0c30465a788e22">dentry</a>, fd-&gt;<a class="code" href="structfile__descriptor.html#a537de8e2d8331e8edab1ea47ca577418">offset</a>)) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <a class="code" href="syscall__structs_8h.html#a48335c34b99db331f8abc68693efe9a8">FD_SET</a>(i, readfds);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">if</span> (writefds &amp;&amp; <a class="code" href="syscall__structs_8h.html#a9f4bc3f7f984c2560139f1960a28b384">FD_ISSET</a>(i, &amp;(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;writefds))) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">if</span> (fd-&gt;<a class="code" href="structfile__descriptor.html#ae7ef2b98078229362a4fc2adf7ef8aa7">ops</a>-&gt;<a class="code" href="structfile__ops.html#a424a4512c6716e5d0c59f211752064e7">can_write</a> &amp;&amp; fd-&gt;<a class="code" href="structfile__descriptor.html#ae7ef2b98078229362a4fc2adf7ef8aa7">ops</a>-&gt;<a class="code" href="structfile__ops.html#a424a4512c6716e5d0c59f211752064e7">can_write</a>(fd-&gt;<a class="code" href="structfile__descriptor.html#aada780efbd33bc5aea0c30465a788e22">dentry</a>, fd-&gt;<a class="code" href="structfile__descriptor.html#a537de8e2d8331e8edab1ea47ca577418">offset</a>)) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                <a class="code" href="syscall__structs_8h.html#a48335c34b99db331f8abc68693efe9a8">FD_SET</a>(i, writefds);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(0);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div>
<div class="ttc" id="astructfd__set_html"><div class="ttname"><a href="structfd__set.html">fd_set</a></div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00146">syscall_structs.h:146</a></div></div>
<div class="ttc" id="astructfile__descriptor_html_ae7ef2b98078229362a4fc2adf7ef8aa7"><div class="ttname"><a href="structfile__descriptor.html#ae7ef2b98078229362a4fc2adf7ef8aa7">file_descriptor::ops</a></div><div class="ttdeci">file_ops_t * ops</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00133">vfs.h:133</a></div></div>
<div class="ttc" id="astructfile__ops_html_a3b7eb74f935c9bd0c61c3466944bf0be"><div class="ttname"><a href="structfile__ops.html#a3b7eb74f935c9bd0c61c3466944bf0be">file_ops::can_read</a></div><div class="ttdeci">bool(* can_read)(dentry_t *, uint32_t start)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00084">vfs.h:84</a></div></div>
<div class="ttc" id="astructfile__ops_html_a424a4512c6716e5d0c59f211752064e7"><div class="ttname"><a href="structfile__ops.html#a424a4512c6716e5d0c59f211752064e7">file_ops::can_write</a></div><div class="ttdeci">bool(* can_write)(dentry_t *, uint32_t start)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8h_source.html#l00085">vfs.h:85</a></div></div>
<div class="ttc" id="astructtimeval_html"><div class="ttname"><a href="structtimeval.html">timeval</a></div><div class="ttdef"><b>Definition:</b> <a href="time__manager_8h_source.html#l00017">time_manager.h:17</a></div></div>
<div class="ttc" id="asys__handler_8c_html_a10d3beceafcc21f4edc6799b1bec52e5"><div class="ttname"><a href="sys__handler_8c.html#a10d3beceafcc21f4edc6799b1bec52e5">param5</a></div><div class="ttdeci">#define param5</div><div class="ttdef"><b>Definition:</b> <a href="sys__handler_8c_source.html#l00023">sys_handler.c:23</a></div></div>
<div class="ttc" id="asys__handler_8c_html_a1a1b8cae7d84b6f1b3fc1a49a7a7b144"><div class="ttname"><a href="sys__handler_8c.html#a1a1b8cae7d84b6f1b3fc1a49a7a7b144">param4</a></div><div class="ttdeci">#define param4</div><div class="ttdef"><b>Definition:</b> <a href="sys__handler_8c_source.html#l00022">sys_handler.c:22</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a48335c34b99db331f8abc68693efe9a8"><div class="ttname"><a href="syscall__structs_8h.html#a48335c34b99db331f8abc68693efe9a8">FD_SET</a></div><div class="ttdeci">#define FD_SET(fd, fd_set_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00151">syscall_structs.h:151</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a86c5dbf5a99358e288f573d6a1e0873f"><div class="ttname"><a href="syscall__structs_8h.html#a86c5dbf5a99358e288f573d6a1e0873f">FD_SETSIZE</a></div><div class="ttdeci">#define FD_SETSIZE</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00144">syscall_structs.h:144</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a91b51414d5d9f2a88c0f38ff4f6f9647"><div class="ttname"><a href="syscall__structs_8h.html#a91b51414d5d9f2a88c0f38ff4f6f9647">FD_ZERO</a></div><div class="ttdeci">#define FD_ZERO(fd_set_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00153">syscall_structs.h:153</a></div></div>
<div class="ttc" id="asyscall__structs_8h_html_a9f4bc3f7f984c2560139f1960a28b384"><div class="ttname"><a href="syscall__structs_8h.html#a9f4bc3f7f984c2560139f1960a28b384">FD_ISSET</a></div><div class="ttdeci">#define FD_ISSET(fd, fd_set_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="syscall__structs_8h_source.html#l00154">syscall_structs.h:154</a></div></div>
<div class="ttc" id="athread_8h_html_a3282a38976308cc24432d173bd8c78e7"><div class="ttname"><a href="thread_8h.html#a3282a38976308cc24432d173bd8c78e7">init_select_blocker</a></div><div class="ttdeci">int init_select_blocker(thread_t *thread, int nfds, fd_set_t *readfds, fd_set_t *writefds, fd_set_t *exceptfds, timeval_t *timeout)</div><div class="ttdef"><b>Definition:</b> <a href="blocker_8c_source.html#l00127">blocker.c:127</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vfs_8h_source.html#l00084">file_ops::can_read</a>, <a class="el" href="vfs_8h_source.html#l00085">file_ops::can_write</a>, <a class="el" href="vfs_8h_source.html#l00127">file_descriptor::dentry</a>, <a class="el" href="include_2errno_8h_source.html#l00012">EBADF</a>, <a class="el" href="include_2errno_8h_source.html#l00025">EINVAL</a>, <a class="el" href="syscall__structs_8h_source.html#l00154">FD_ISSET</a>, <a class="el" href="syscall__structs_8h_source.html#l00151">FD_SET</a>, <a class="el" href="syscall__structs_8h_source.html#l00144">FD_SETSIZE</a>, <a class="el" href="syscall__structs_8h_source.html#l00153">FD_ZERO</a>, <a class="el" href="blocker_8c_source.html#l00127">init_select_blocker()</a>, <a class="el" href="vfs_8h_source.html#l00130">file_descriptor::offset</a>, <a class="el" href="vfs_8h_source.html#l00133">file_descriptor::ops</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00021">param3</a>, <a class="el" href="sys__handler_8c_source.html#l00022">param4</a>, <a class="el" href="sys__handler_8c_source.html#l00023">param5</a>, <a class="el" href="proc_8c_source.html#l00367">proc_get_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, and <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>.</p>

</div>
</div>
<a id="a6cf0d451e8c60082fa28373eb0607178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cf0d451e8c60082fa28373eb0607178">&#9670;&nbsp;</a></span>sys_setpgid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_setpgid </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00437">437</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> pid = <a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> pgid = <a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#adc69bdd445ce8939e490acd8a7a16935">tasking_get_proc</a>(pid);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a462e47a8af6288232a5df548221ada4c">ESRCH</a>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>-&gt;pgid = pgid;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(0);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="include_2errno_8h_source.html#l00006">ESRCH</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, and <a class="el" href="tasking_8c_source.html#l00055">tasking_get_proc()</a>.</p>

</div>
</div>
<a id="a1d9df9a68522373902ee2dd594595e28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d9df9a68522373902ee2dd594595e28">&#9670;&nbsp;</a></span>sys_shbuf_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_shbuf_create </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00631">631</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="syscall__structs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>** buffer = (<a class="code" href="syscall__structs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>**)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordtype">size_t</span> size = <a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="shared__buffer_8h.html#adab7e7100c5128f802e826eea6a2a39e">shared_buffer_create</a>(buffer, size));</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="ttc" id="ashared__buffer_8h_html_adab7e7100c5128f802e826eea6a2a39e"><div class="ttname"><a href="shared__buffer_8h.html#adab7e7100c5128f802e826eea6a2a39e">shared_buffer_create</a></div><div class="ttdeci">int shared_buffer_create(uint8_t **buffer, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="syscalls_8c_source.html#l00169">syscalls.c:169</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, and <a class="el" href="syscalls_8c_source.html#l00169">shared_buffer_create()</a>.</p>

</div>
</div>
<a id="a59f2fe57a553b2f1cfd7ea43d95fe260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f2fe57a553b2f1cfd7ea43d95fe260">&#9670;&nbsp;</a></span>sys_shbuf_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_shbuf_free </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00645">645</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;{</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = <a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="shared__buffer_8h.html#aa1b2431eff361897fc8a523471765697">shared_buffer_free</a>(<span class="keywordtype">id</span>));</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div>
<div class="ttc" id="ashared__buffer_8h_html_aa1b2431eff361897fc8a523471765697"><div class="ttname"><a href="shared__buffer_8h.html#aa1b2431eff361897fc8a523471765697">shared_buffer_free</a></div><div class="ttdeci">int shared_buffer_free(int id)</div><div class="ttdef"><b>Definition:</b> <a href="syscalls_8c_source.html#l00179">syscalls.c:179</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, and <a class="el" href="syscalls_8c_source.html#l00179">shared_buffer_free()</a>.</p>

</div>
</div>
<a id="a8dedaf54dc7044f5d21fec8c1e1a44c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dedaf54dc7044f5d21fec8c1e1a44c3">&#9670;&nbsp;</a></span>sys_shbuf_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_shbuf_get </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00638">638</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = <a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="syscall__structs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>** buffer = (<a class="code" href="syscall__structs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>**)<a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="shared__buffer_8h.html#a777eb3b8e1313e16b60e2082558fc31e">shared_buffer_get</a>(<span class="keywordtype">id</span>, buffer));</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div>
<div class="ttc" id="ashared__buffer_8h_html_a777eb3b8e1313e16b60e2082558fc31e"><div class="ttname"><a href="shared__buffer_8h.html#a777eb3b8e1313e16b60e2082558fc31e">shared_buffer_get</a></div><div class="ttdeci">int shared_buffer_get(int id, uint8_t **buffer)</div><div class="ttdef"><b>Definition:</b> <a href="syscalls_8c_source.html#l00174">syscalls.c:174</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, and <a class="el" href="syscalls_8c_source.html#l00174">shared_buffer_get()</a>.</p>

</div>
</div>
<a id="ab122f10c9d404966ffa3f6b9199d5173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab122f10c9d404966ffa3f6b9199d5173">&#9670;&nbsp;</a></span>sys_sigaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_sigaction </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00410">410</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;{</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="sys__handler_8c.html#a54bd344e721e020e7684e2b3a29b4cff">set_return</a>(tf, <a class="code" href="tasking_8h.html#a5fa13209dad4a12c8eaa1efd264e231b">signal_set_handler</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>, (<span class="keywordtype">int</span>)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>, (<span class="keywordtype">void</span>*)<a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>));</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div>
<div class="ttc" id="atasking_8h_html_a5fa13209dad4a12c8eaa1efd264e231b"><div class="ttname"><a href="tasking_8h.html#a5fa13209dad4a12c8eaa1efd264e231b">signal_set_handler</a></div><div class="ttdeci">int signal_set_handler(thread_t *thread, int signo, void *handler)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00071">signal.c:71</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="sys__handler_8c_source.html#l00073">set_return()</a>, and <a class="el" href="signal_8c_source.html#l00071">signal_set_handler()</a>.</p>

</div>
</div>
<a id="af1d4fc21e1f1c646523631c8e93e67a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1d4fc21e1f1c646523631c8e93e67a6">&#9670;&nbsp;</a></span>sys_sigreturn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_sigreturn </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00415">415</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;{</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="tasking_8h.html#a7a40c8341c963098064e33d3612a36a7">signal_restore_thread_after_handling_signal</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="ttc" id="atasking_8h_html_a7a40c8341c963098064e33d3612a36a7"><div class="ttname"><a href="tasking_8h.html#a7a40c8341c963098064e33d3612a36a7">signal_restore_thread_after_handling_signal</a></div><div class="ttdeci">int signal_restore_thread_after_handling_signal(thread_t *thread)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00181">signal.c:181</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, and <a class="el" href="signal_8c_source.html#l00181">signal_restore_thread_after_handling_signal()</a>.</p>

</div>
</div>
<a id="a7635c8720e59a3a15cdd370c44532126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7635c8720e59a3a15cdd370c44532126">&#9670;&nbsp;</a></span>sys_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_sleep </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00479">479</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;{</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="structthread.html">thread_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="time__manager_8h.html#a3364eb8c173382cf152d7f163211b29e">time_t</a> time = <a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="thread_8h.html#ae3403b12b10cda230de23682da618631">init_sleep_blocker</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>, time);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(0);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="ttc" id="athread_8h_html_ae3403b12b10cda230de23682da618631"><div class="ttname"><a href="thread_8h.html#ae3403b12b10cda230de23682da618631">init_sleep_blocker</a></div><div class="ttdeci">int init_sleep_blocker(thread_t *thread, uint32_t time)</div><div class="ttdef"><b>Definition:</b> <a href="blocker_8c_source.html#l00083">blocker.c:83</a></div></div>
<div class="ttc" id="atime__manager_8h_html_a3364eb8c173382cf152d7f163211b29e"><div class="ttname"><a href="time__manager_8h.html#a3364eb8c173382cf152d7f163211b29e">time_t</a></div><div class="ttdeci">unsigned int time_t</div><div class="ttdef"><b>Definition:</b> <a href="time__manager_8h_source.html#l00015">time_manager.h:15</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="blocker_8c_source.html#l00083">init_sleep_blocker()</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, and <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>.</p>

</div>
</div>
<a id="a905bdea7f3632bfe30b6f5766c69e1ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a905bdea7f3632bfe30b6f5766c69e1ff">&#9670;&nbsp;</a></span>sys_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_socket </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IO SYSCALLS </p>

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00555">555</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;{</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordtype">int</span> domain = <a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="gdt_8h.html#ad44b615021ed3ccb734fcaf583ef4a03">type</a> = <a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordtype">int</span> protocol = <a class="code" href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd = <a class="code" href="proc_8h.html#ada44023105fdc0405fbf4f2e0444b2e3">proc_get_free_fd</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span> (!fd) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-1);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (domain == <a class="code" href="syscall__structs_8h.html#a4e21869e6002519f27b60e7425d41d17a3f9ed82fceb8c585348267ec53dc1f27">PF_LOCAL</a>) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordtype">int</span> res = <a class="code" href="local__socket_8h.html#abea52622d569f124e018ce228b600577">local_socket_create</a>(<a class="code" href="gdt_8h.html#ad44b615021ed3ccb734fcaf583ef4a03">type</a>, protocol, fd);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">if</span> (!res) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(<a class="code" href="proc_8h.html#a80e15e3a633b0636cc3fc72a58d6b458">proc_get_fd_id</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>, fd));</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(res);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="ttc" id="agdt_8h_html_ad44b615021ed3ccb734fcaf583ef4a03"><div class="ttname"><a href="gdt_8h.html#ad44b615021ed3ccb734fcaf583ef4a03">type</a></div><div class="ttdeci">uint32_t type</div><div class="ttdef"><b>Definition:</b> <a href="gdt_8h_source.html#l00003">gdt.h:3</a></div></div>
<div class="ttc" id="alocal__socket_8h_html_abea52622d569f124e018ce228b600577"><div class="ttname"><a href="local__socket_8h.html#abea52622d569f124e018ce228b600577">local_socket_create</a></div><div class="ttdeci">int local_socket_create(int type, int protocol, file_descriptor_t *fd)</div><div class="ttdef"><b>Definition:</b> <a href="local__socket_8c_source.html#l00035">local_socket.c:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="local__socket_8c_source.html#l00035">local_socket_create()</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00021">param3</a>, <a class="el" href="syscall__structs_8h_source.html#l00161">PF_LOCAL</a>, <a class="el" href="proc_8c_source.html#l00340">proc_get_fd_id()</a>, <a class="el" href="proc_8c_source.html#l00354">proc_get_free_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, and <a class="el" href="gdt_8h_source.html#l00003">type</a>.</p>

</div>
</div>
<a id="a53c0a1e5cf00a9765f7aaf782ac2ece4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53c0a1e5cf00a9765f7aaf782ac2ece4">&#9670;&nbsp;</a></span>sys_unlink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_unlink </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00210">210</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;{</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="structproc.html">proc_t</a>* <a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a> = <a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* path = (<span class="keywordtype">char</span>*)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordtype">char</span>* kpath = 0;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="utils_8h.html#a6cd637b285f4d4844912affebb05dff4">str_validate_len</a>(path, 128)) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">int</span> name_len = <a class="code" href="utils_8h.html#adb355892c2a2bf574f79bd8a4979183c">strlen</a>(path);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    kpath = <a class="code" href="mem_8h.html#a93e0348b66827f7b9a4ebae1b7394141">kmem_bring_to_kernel</a>(path, name_len + 1);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="structdentry.html">dentry_t</a>* file;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vfs_8h.html#a7b678a2a5a34506cb2c3dd1162d24c47">vfs_resolve_path_start_from</a>(<a class="code" href="gdt_8h.html#a93c7c40d4fc2b2a4e8fea0f75e81e856">p</a>-&gt;cwd, kpath, &amp;file) &lt; 0) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">int</span> ret = <a class="code" href="vfs_8h.html#a37b0bdff161b5845929c6dfe8df92da8">vfs_unlink</a>(file);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="vfs_8h.html#a7b69e608ff6502aa7604cb61d1e85d3e">dentry_put</a>(file);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="kmalloc_8h.html#a069f85a5001d71bc44d8be6532a4e432">kfree</a>(kpath);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(ret);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="ttc" id="avfs_8h_html_a37b0bdff161b5845929c6dfe8df92da8"><div class="ttname"><a href="vfs_8h.html#a37b0bdff161b5845929c6dfe8df92da8">vfs_unlink</a></div><div class="ttdeci">int vfs_unlink(dentry_t *file)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8c_source.html#l00232">vfs.c:232</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dentry_8c_source.html#l00301">dentry_put()</a>, <a class="el" href="include_2errno_8h_source.html#l00025">EINVAL</a>, <a class="el" href="include_2errno_8h_source.html#l00005">ENOENT</a>, <a class="el" href="kmalloc_8c_source.html#l00087">kfree()</a>, <a class="el" href="mem_8c_source.html#l00055">kmem_bring_to_kernel()</a>, <a class="el" href="gdt_8h_source.html#l00006">p</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, <a class="el" href="utils_8c_source.html#l00108">str_validate_len()</a>, <a class="el" href="string_8c_source.html#l00053">strlen()</a>, <a class="el" href="vfs_8c_source.html#l00358">vfs_resolve_path_start_from()</a>, and <a class="el" href="vfs_8c_source.html#l00232">vfs_unlink()</a>.</p>

</div>
</div>
<a id="a7ecf4d63baf609139fe2d7e92e2a75d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ecf4d63baf609139fe2d7e92e2a75d7">&#9670;&nbsp;</a></span>sys_waitpid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_waitpid </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00399">399</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;{</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordtype">int</span> ret = <a class="code" href="tasking_8h.html#add9d8cbccd845b40ddf5004b79407eea">tasking_waitpid</a>(<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="sys__handler_8c.html#a54bd344e721e020e7684e2b3a29b4cff">set_return</a>(tf, ret);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;}</div>
<div class="ttc" id="atasking_8h_html_add9d8cbccd845b40ddf5004b79407eea"><div class="ttname"><a href="tasking_8h.html#add9d8cbccd845b40ddf5004b79407eea">tasking_waitpid</a></div><div class="ttdeci">int tasking_waitpid(int pid)</div><div class="ttdef"><b>Definition:</b> <a href="tasking_8c_source.html#l00244">tasking.c:244</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00073">set_return()</a>, and <a class="el" href="tasking_8c_source.html#l00244">tasking_waitpid()</a>.</p>

</div>
</div>
<a id="a183294beff3b2de3d246775c53860871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a183294beff3b2de3d246775c53860871">&#9670;&nbsp;</a></span>sys_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_write </td>
          <td>(</td>
          <td class="paramtype">trapframe_t *&#160;</td>
          <td class="paramname"><em>tf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00167">167</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="structfile__descriptor.html">file_descriptor_t</a>* fd = <a class="code" href="proc_8h.html#ace4dcc184cab83c0ab38212d8b954b84">proc_get_fd</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>-&gt;process, (<span class="keywordtype">int</span>)<a class="code" href="sys__handler_8c.html#a4bd21ff720e3c611cb94ceb4f2b2aa67">param1</a>);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (!fd) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(-<a class="code" href="include_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="thread_8h.html#a153d6a7da275451630a347481b8d812c">init_write_blocker</a>(<a class="code" href="tasking_8h.html#a5ec587856ddd0b69124e4fa40258ae0d">RUNNIG_THREAD</a>, fd);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">int</span> res = <a class="code" href="vfs_8h.html#ad960b8aecfa97011c586c77c8c73801c">vfs_write</a>(fd, (<a class="code" href="syscall__structs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)<a class="code" href="sys__handler_8c.html#a17672119b748bbdf6357f43eb819bf04">param2</a>, (<a class="code" href="syscall__structs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code" href="sys__handler_8c.html#a76d2d23ab53e9614c8bec65bdabc53c7">param3</a>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="sys__handler_8c.html#aaae3d18c16b4873d38e76227fc8a20f4">return_with_val</a>(res);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div>
<div class="ttc" id="athread_8h_html_a153d6a7da275451630a347481b8d812c"><div class="ttname"><a href="thread_8h.html#a153d6a7da275451630a347481b8d812c">init_write_blocker</a></div><div class="ttdeci">int init_write_blocker(thread_t *thread, file_descriptor_t *bfd)</div><div class="ttdef"><b>Definition:</b> <a href="blocker_8c_source.html#l00061">blocker.c:61</a></div></div>
<div class="ttc" id="avfs_8h_html_ad960b8aecfa97011c586c77c8c73801c"><div class="ttname"><a href="vfs_8h.html#ad960b8aecfa97011c586c77c8c73801c">vfs_write</a></div><div class="ttdeci">int vfs_write(file_descriptor_t *fd, uint8_t *buf, uint32_t len)</div><div class="ttdef"><b>Definition:</b> <a href="vfs_8c_source.html#l00308">vfs.c:308</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="include_2errno_8h_source.html#l00012">EBADF</a>, <a class="el" href="blocker_8c_source.html#l00061">init_write_blocker()</a>, <a class="el" href="sys__handler_8c_source.html#l00019">param1</a>, <a class="el" href="sys__handler_8c_source.html#l00020">param2</a>, <a class="el" href="sys__handler_8c_source.html#l00021">param3</a>, <a class="el" href="proc_8c_source.html#l00367">proc_get_fd()</a>, <a class="el" href="sys__handler_8c_source.html#l00028">return_with_val</a>, <a class="el" href="tasking_8h_source.html#l00022">RUNNIG_THREAD</a>, and <a class="el" href="vfs_8c_source.html#l00308">vfs_write()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aaa98cc8cf7cbfab08d8f25c5e46bd39b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa98cc8cf7cbfab08d8f25c5e46bd39b">&#9670;&nbsp;</a></span>syscalls</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const void* syscalls[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__handler_8c_source.html#l00032">32</a> of file <a class="el" href="sys__handler_8c_source.html">sys_handler.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="sys__handler_8c_source.html#l00094">sys_handler()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jan 26 2021 19:11:30 for oneOS by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
